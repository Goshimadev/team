"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[904],{70904:function(e,s,t){t.d(s,{Z:function(){return te}});var n=t(52322),a=t(20597),i=t(68810),l=t(77245),r=t(92642),c=t(65863),d=t(13955),o=t(8233),u=t(30705),m=t(53080),x=t(89616),h=t(18998),f=t(53003),p=t(5859),g=t(99035),j=t(24407),b=t(72779),y=t.n(b),w=t(77962),N=t(10528),v=t(72579),k=t.n(v),C=t(19034),S=t.n(C),L=t(96577),M=t.n(L),T=t(2784),O=t(18978),W=t(52742),E=t(60740);const I={green:"bg-green-100 text-green-800 border-green-600",yellow:"bg-yellow-100 text-yellow-800 border-yellow-600",red:"bg-red-100 text-red-800 border-red-600",blue:"bg-blue-100 text-blue-800 border-blue-600",gray:"bg-gray-100 text-gray-800 border-gray-600"};function A(e){let{className:s,variant:t,children:a}=e;return(0,n.jsx)("span",{className:y()(s,I[t],"inline-flex items-center rounded border py-0.5 px-1.5 text-xs font-medium"),children:a})}A.defaultProps={className:void 0};var z=t(7642),D=t.n(z);function Y(e){let{unlockDate:s,createdDate:t,status:a}=e;const i=(e,s)=>{const t=e.valueOf(),n=s.valueOf(),i=t-S()().valueOf(),l=t-n;let r={days:0,hours:0,minutes:0,seconds:0,process:0};return"WITHDRAWN"===a?(r={days:0,hours:0,minutes:0,seconds:0,process:100},r):(r=i>0?{days:S()(t).diff(S()(),"days"),hours:S()(t).diff(S()(),"hours")%24,minutes:S()(t).diff(S()(),"minutes")%60,seconds:S()(t).diff(S()(),"seconds")%60,process:i/l*100}:{days:0,hours:0,minutes:0,seconds:0,process:100},r)},[l,r]=(0,T.useState)(i(D()(s),D()(t)));return(0,T.useEffect)((()=>{const e=setTimeout((()=>{r(i(D()(s),D()(t)))}),1e3);return()=>clearTimeout(e)})),(0,n.jsxs)("div",{children:[(0,n.jsxs)(A,{className:"mb-1.5 px-1.5 py-0.5 capitalize",variant:"unlocked"===a?"green":"withdrawn"===a?"gray":"blue",children:["unlocked"===a||"withdrawn"===a?(0,n.jsx)(O.jcU,{size:12}):(0,n.jsx)(O.kUi,{size:12}),(0,n.jsx)("span",{className:"ml-1.5",children:a})]}),(0,n.jsx)("div",{className:"h-1.5 rounded-full bg-gray-200",children:(0,n.jsx)("div",{className:y()("unlocked"===a?"bg-green-400":"locked"===a?"bg-blue-600":"bg-grey-600","h-1.5 rounded-full"),style:{width:"".concat(l.process,"%")}})}),(0,n.jsx)("span",{className:"text-xs text-neutral-600",children:"".concat(l.days," days, ").concat(l.hours," hours, ").concat(l.minutes," minutes, ").concat(l.seconds," seconds")})]})}var q=t(34352);function F(e){let{open:s,setOpen:t,errorMsg:a}=e;return(0,n.jsx)(q.Z,{open:s,setOpen:()=>t(!1),children:(0,n.jsxs)("div",{className:"w-72",children:[(0,n.jsx)("div",{className:"my-4 flex items-center justify-center",children:(0,n.jsx)(l.I2T,{className:"mr-2 h-24 w-24 text-red-700","aria-hidden":"true"})}),(0,n.jsx)("h1",{className:"mb-2 text-lg font-medium",children:a}),(0,n.jsx)(x.zx,{className:"mt-4",fullWidth:!0,onClick:()=>t(!1),children:"Close"})]})})}var Z=t(28879),P=t.n(Z);function U(e){let{open:s,setOpen:t,oldUnlockTime:a,handleExtendLock:i,isLoading:l}=e;const[r,c]=(0,T.useState)(!0),[d,o]=(0,T.useState)(30),[u,m]=(0,T.useState)("days");return(0,n.jsx)(q.Z,{open:s,setOpen:()=>t(!1),children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(M(),{src:"/icons/transfer-lock.png",alt:"lock-icon",width:75,height:75})}),(0,n.jsx)("h4",{className:"text-black-500 text-lg font-medium",children:"Extend Lock Duration"}),(0,n.jsx)("span",{className:"text-gray-500",children:"Extend the duration of your lock to a new future unlock date."})]}),(0,n.jsxs)("div",{className:"text-gray-700",children:["Original Unlock Date:"," ",(0,n.jsx)("span",{className:"font-medium",children:P().unix(a).format("MMMM D, YYYY")})]}),(0,n.jsxs)("div",{className:"grid w-full grid-cols-2 rounded-md border border-neutral-200 px-4 py-3",children:[(0,n.jsxs)("div",{className:"flex flex-col text-left",children:[(0,n.jsx)("span",{className:"pl-1",children:"seconds"!==u?"Extend Lock By":"Lock Date"}),(0,n.jsx)("input",{className:"flex-1 pl-1",type:"number",name:"timestamp",placeholder:"Number of ".concat(u),value:d,onChange:e=>function(e){o(e);const s="seconds"!==u?P().unix(a).add(e,u).unix():e;Date.now()/1e3>Number(s)||0===e||isNaN(e)?c(!1):c(!0)}(parseInt(e.target.value,10)),disabled:l})]}),(0,n.jsxs)("div",{className:"flex flex-col items-end text-right",children:[(0,n.jsx)("span",{children:("seconds"!==u?P().unix(a).add(d,u):P().unix(d)).format("MMMM D, YYYY")}),(0,n.jsxs)("select",{disabled:l,id:"location",name:"location",className:"w-fit rounded-md py-1 pr-1 text-right text-sm focus:outline-none",defaultValue:u,onChange:e=>{var s;s=e.target.value,m(s),"seconds"===u&&"seconds"!==s&&o(90),"seconds"!==u&&"seconds"===s&&o(P().unix(a).add(90,"days").unix()),c(!0)},children:[(0,n.jsx)("option",{value:"days",children:"Days"}),(0,n.jsx)("option",{value:"months",children:"Months"}),(0,n.jsx)("option",{value:"seconds",children:"Timestamp"})]})]})]}),(0,n.jsx)(x.zx,{disabled:!r||l,fullWidth:!0,onClick:()=>(()=>{const e="seconds"!==u?P().unix(a).add(d,u).unix():d;i(e)})(),isLoading:l,children:"Continue"})]})})}function R(e){let{open:s,setOpen:t}=e;return(0,n.jsx)(q.Z,{open:s,setOpen:()=>t(!1),children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"ModalMigrate"}),(0,n.jsx)(x.zx,{className:"mt-4",fullWidth:!0,onClick:()=>t(!1),children:"Close"})]})})}function X(e){let{open:s,setOpen:t,handleMintNft:a,isLoading:i}=e;return(0,n.jsx)(q.Z,{open:s,setOpen:()=>t(!1),children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(M(),{src:"/icons/transfer-lock.png",alt:"lock-icon",width:75,height:75})}),(0,n.jsx)("p",{className:"text-black-500",children:"Mint Lock Nft"}),(0,n.jsx)("p",{className:"text-gray-500",children:"Mint an ERC-721 NFT to control and represent ownership of your lock."})]}),(0,n.jsx)(x.zx,{className:"mt-4",fullWidth:!0,onClick:()=>a(),isLoading:i,disabled:i,children:"Continue"})]})})}var Q=t(58194);function $(e){let{open:s,setOpen:t,rewardAmount:a,rewardsWithdrawAmount:i,setRewardsWithdrawAmount:l,handleWithdraw:r,getRewardsAmount:c,getCustomTokenDetails:d,isLoading:o,item:m}=e;const[h,f]=(0,T.useState)(0),[p,g]=(0,T.useState)(""),[j,b]=(0,T.useState)(""),[y,N]=(0,T.useState)(""),[v,C]=(0,T.useState)(""),S=k()(m,"token",{}),L=h<=1?k()(S,"tokenSymbol",""):j,O=w.bM(a,h<=1?m.token.tokenDecimals:y).toString(),W=k()(S,"tokenAddress",""),E=e=>{Number(e)>Number(O)||""===e||0===Number(e)?C("Invalid withdrawal amount"):C(""),l(e)};return(0,n.jsx)(q.Z,{open:s,setOpen:()=>t(!1),children:(0,n.jsxs)("div",{className:"space-y-3 md:max-w-md",children:[(0,n.jsxs)("div",{className:"space-y-1 text-center",children:[(0,n.jsx)(M(),{src:"/icons/transfer-lock.png",alt:"lock-icon",width:75,height:75}),(0,n.jsx)("h4",{className:"text-black-500 text-lg font-medium",children:"Withdraw"}),(0,n.jsx)("p",{className:"text-gray-500",children:"Claim your accumulated reward/reflection tokens."})]}),1!==h&&(0,n.jsxs)("div",{className:"grid w-full grid-cols-2 rounded-md border border-neutral-200 px-4 py-3",children:[(0,n.jsxs)("div",{className:"inline-flex items-center gap-x-2",children:[(0,n.jsx)(x.Oi,{className:"h-12 w-12",src:(0,u.XP)(W)}),(0,n.jsxs)("div",{className:"flex flex-col text-left",children:[(0,n.jsx)("span",{className:"-mb-1 text-sm text-gray-600",children:"Available"}),(0,n.jsxs)("span",{className:"text-lg font-medium",children:[O," ",L]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col text-left",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"Withdraw Amount"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(x.II,{type:"number",name:"amount",fullWidth:!0,value:i,max:O,error:!!v,onChange:e=>E(e.target.value)}),(0,n.jsx)(x.zx,{className:"ml-1",type:"button",variant:"secondary",size:"xs",onClick:()=>E(O),children:"Max"})]})]})]}),1===h&&(0,n.jsx)("div",{className:"grid w-full grid-cols-1 rounded-md border border-neutral-200 px-4 py-3",children:(0,n.jsxs)("div",{className:"flex flex-col text-left",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"Custom Token Address"}),(0,n.jsx)("div",{className:"flex",children:(0,n.jsx)(x.II,{type:"string",name:"customTokenAddress",fullWidth:!0,value:p,error:!!v,onChange:e=>g(e.target.value)})})]})}),(0,n.jsxs)("div",{className:"inline-flex w-full gap-x-2",children:[(0===h||2===h)&&(0,n.jsx)(x.zx,{disabled:o||!!v,fullWidth:!0,isLoading:o,onClick:()=>0===h?r():r(p,y),children:"Withdraw"}),1===h&&(0,n.jsx)(x.zx,{fullWidth:!0,isLoading:o,disabled:o,onClick:async()=>(async()=>{try{if(Q.UJ(p)){const{symbol:e,decimals:s}=await d(p);""!==e&&""!==s?(await c(p),b(e),N(s),l("0"),C(""),f(2)):C("Unable to Fetch Token Details")}else C("Invalid Custom Token Address")}catch(e){console.error(e)}})(),children:"Add"}),0===h&&(0,n.jsx)(x.zx,{fullWidth:!0,variant:"secondary",onClick:()=>f(1),children:"Custom Token"})]})]})})}function B(e){let{open:s,setOpen:t,amount:a,decimals:i,address:l,symbol:r,chainId:c,item:d,isLoading:m,handleSplitLock:p}=e;const[g,j]=(0,T.useState)(0),[b,y]=(0,T.useState)(N.O$.from(0)),[v,C]=(0,T.useState)(!0),[S,L]=(0,T.useState)(!1),[O,W]=(0,T.useState)(0),[E,I]=(0,T.useState)(!1),[A,z]=(0,T.useState)(0),[D,Y]=(0,T.useState)("days"),{library:F}=(0,f.Ge)(),[Z,U]=(0,T.useState)(N.O$.from(0)),R=100===g||b.eq(0),X=k()(d,"event",{}),Q=k()(X,"unlockTime",0);(0,T.useEffect)((()=>{F&&(async()=>{const e=new o.XP(d.event.lockContractAddress,F.getSigner()),s=await e.getFeesInETH(l);U(s)})()}),[l,d.event.lockContractAddress,F]),(0,T.useEffect)((()=>{y(N.O$.from(a).mul(g).div(100))}),[a,g]);const $=()=>"seconds"!==D?P().unix(Q).add(A,D):P().unix(A);return(0,n.jsx)(q.Z,{open:s,setOpen:()=>t(!1),children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(M(),{src:"/icons/transfer-lock.png",alt:"lock-icon",width:75,height:75})}),(0,n.jsx)("p",{className:"text-black-200 text-base font-medium",children:"Split Token Lock"})]}),0===O&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:"text-gray-500",children:"Split your current token lock into two different locks"})}),(0,n.jsxs)("div",{className:"mb-3 mt-2 w-full divide-y divide-neutral-200 rounded-md border border-neutral-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Original lock amount:"}),(0,n.jsx)("span",{className:"font-medium",children:w.bM(a,i)})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"New lock amount"}),(0,n.jsx)("span",{className:"font-medium",children:w.bM(b,i)})]})]}),(0,n.jsx)("input",{id:"default-range",type:"range",value:g,onChange:e=>j(Number(e.target.value)),className:"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-300"}),(0,n.jsx)(x.zx,{className:"mt-4",fullWidth:!0,onClick:()=>W((e=>e+1)),isLoading:m,disabled:R||!!E,children:"Continue"})]}),1===O&&(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-gray-500",children:"Extend the duration of your split lock to a new future unlock date."}),(0,n.jsxs)("div",{className:"mt-2 flex flex-row justify-between",children:[(0,n.jsx)("div",{className:"flex",children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{className:"mr-2",type:"checkbox",checked:v,onChange:()=>C((e=>!e))}),"Keep Original Unlock Date"]})}),(0,n.jsx)("div",{children:P().unix(Q).format("MMMM D, YYYY")})]}),(0,n.jsxs)("div",{className:"mt-2 grid w-full grid-cols-2 rounded-md border border-neutral-200 px-4 py-3",children:[(0,n.jsxs)("div",{className:"flex flex-col text-left",children:[(0,n.jsx)("span",{className:"pl-1",children:"seconds"!==D?"Extend by":"Unlock Date"}),(0,n.jsx)("input",{className:"flex-1 pl-1",type:"number",name:"timestamp",value:A,onChange:e=>(e=>{z(e);const s="seconds"!==D?P()().add(e,D).unix():e;if(Date.now()/1e3>Number(s)&&"seconds"===D)return console.log("seterror"),void I(!0);I(!1)})(parseInt(e.target.value,10)),disabled:m||v})]}),(0,n.jsxs)("div",{className:"flex flex-col items-end text-right",children:[(0,n.jsx)("span",{children:E?"Invalid date":$().format("MMMM D, YYYY")}),(0,n.jsxs)("select",{id:"location",name:"location",className:"w-fit rounded-md py-1 pr-1 text-right text-sm focus:outline-none",defaultValue:D,disabled:m,onChange:e=>{var s;s=e.target.value,Y(s),"seconds"===D&&"seconds"!==s&&z(90),"seconds"!==D&&"seconds"===s&&z(P()().add(90,"days").unix()),I(!1)},children:[(0,n.jsx)("option",{value:"days",children:"Days"}),(0,n.jsx)("option",{value:"months",children:"Months"}),(0,n.jsx)("option",{value:"seconds",children:"Timestamp"})]})]})]}),(0,n.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-2 md:grid-cols-2",children:[(0,n.jsx)(x.zx,{fullWidth:!0,onClick:()=>W((e=>e-1)),isLoading:m,children:"Back"}),(0,n.jsx)(x.zx,{fullWidth:!0,onClick:()=>W((e=>e+1)),isLoading:m,disabled:!!E,children:"Continue"})]})]}),2===O&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-gray-500",children:"Confirm new lock details"}),(0,n.jsxs)("div",{className:"mt-2 w-full divide-y divide-neutral-200 rounded-md border border-neutral-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Token"}),(0,n.jsxs)("div",{className:"inline-flex items-center gap-x-1.5 font-medium",children:[r,(0,n.jsx)(x.Oi,{alt:"logo",src:(0,u.XP)(l),className:"h-8 w-8 object-contain",chainId:c})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsx)("p",{className:"text-neutral-500",children:"Original lock amount"}),(0,n.jsx)("p",{className:"ml-4 font-medium",children:w.bM(a,i)})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsx)("p",{className:"text-neutral-500",children:"New lock amount"}),(0,n.jsx)("p",{className:"ml-4 font-medium",children:w.bM(b,i)})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsx)("p",{className:"text-neutral-500",children:"New unlock date"}),(0,n.jsx)("p",{className:"ml-4 font-medium",children:$().format("MMMM D, YYYY")})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Lock fees"}),(0,n.jsx)("span",{className:"font-medium",children:"".concat(parseFloat(w.dF(Z)).toFixed(4)," ").concat((0,h.tl)(c))})]})]})]}),(0,n.jsx)("div",{className:"mt-2 flex",children:(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{className:"mr-2",type:"checkbox",checked:S,onChange:()=>L((e=>!e))}),"Mint NFT"]})}),(0,n.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,n.jsx)(x.zx,{fullWidth:!0,onClick:()=>W((e=>e-1)),disabled:m,children:"Back"}),(0,n.jsx)(x.zx,{fullWidth:!0,onClick:()=>(async()=>{try{let e=0;e=v?Q:"seconds"!==D?P().unix(Q).add(A,D).unix():A,p(e,Z,b.toString(),S)}catch(e){console.error(e)}})(),isLoading:m,disabled:!!E||m,children:"Confirm"})]})]})]})})}function H(e){let{open:s,setOpen:t,successMsg:a}=e;return(0,n.jsx)(q.Z,{open:s,setOpen:()=>t(!1),children:(0,n.jsxs)("div",{className:"w-72",children:[(0,n.jsx)("div",{className:"my-4 flex items-center justify-center",children:(0,n.jsx)(l.hXj,{className:"mr-2 h-24 w-24 animate-bounce text-blue-700","aria-hidden":"true"})}),(0,n.jsx)("h1",{className:"mb-2 text-lg font-medium",children:a}),(0,n.jsx)(x.zx,{className:"mt-4",fullWidth:!0,onClick:()=>t(!1),children:"Close"})]})})}var K=t(15334);function V(e){let{open:s,setOpen:t,isLoading:a,chainId:i,handleTransferLock:l}=e;const[r,c]=(0,T.useState)(""),[d,o]=(0,T.useState)(!1);return(0,n.jsx)(q.Z,{open:s,setOpen:()=>t(!1),children:(0,n.jsxs)("div",{className:"mx-auto flex flex-col items-center justify-center gap-4 md:max-w-md",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(M(),{src:"/icons/transfer-lock.png",alt:"lock-icon",width:75,height:75})}),(0,n.jsx)("h4",{className:"text-black-500 text-lg font-medium",children:"Transfer Lock"}),(0,n.jsxs)("span",{className:"text-gray-500",children:["Enter the address of the wallet","0x1"===i?"/ens":null," ","you would like to transfer ownership to."]})]}),(0,n.jsx)(x.II,{fullWidth:!0,name:"address",placeholder:"Wallet Address",value:r,onChange:e=>(async e=>{console.log("inputAddress",e),c(e),o((0,K.Ec)(e))})(e.target.value),disabled:a}),(0,n.jsx)(x.zx,{fullWidth:!0,onClick:()=>{l(r)},isLoading:a,disabled:a||!r||!d,children:"Continue"})]})})}const _={primary:"transition placeholder:text-neutral-300 text-neutral-700 border border-neutral-200 rounded py-1.5 px-3 focus:ring-2 focus:border-blue-400 focus:ring-blue-300 focus:outline-none"};function G(e){let{className:s,variant:t,fullWidth:a,error:i,...l}=e;return(0,n.jsx)("input",{...l,className:y()(s,i?"transition placeholder:text-neutral-300 text-neutral-700 border border-red-600 rounded py-1.5 px-3 focus:ring-2 focus:border-blue-400 focus:ring-blue-300 focus:outline-none":_[t],{"w-full":a})})}function J(e){let{open:s,setOpen:t,withdrawAmount:a,setWithdrawAmount:i,handleWithdraw:l,isLoading:r,item:c,isPartialWithdrawDisabled:d}=e;const o=k()(c,"token",{}),m=c.liquidityContract?k()(c,"liquidityContract.tokenSymbol","unknown"):k()(o,"tokenSymbol",""),h=c.liquidityContract?k()(c,"liquidityContract.tokenDecimals",18):k()(o,"tokenDecimals",18),f=w.bM(c.event.lockAmount,h),p=k()(o,"isNFT",!1),[g,j]=(0,T.useState)(""),b=c.liquidityContract?k()(c,"liquidityContract.tokenAddress",""):k()(o,"tokenAddress",""),N=e=>{Number(e)>Number(f)||""===e||0===Number(e)?j("Invalid withdrawal amount"):j(""),i(e)};return(0,n.jsx)(q.Z,{open:s,setOpen:()=>t(!1),children:(0,n.jsxs)("div",{className:"space-y-3 md:max-w-md",children:[(0,n.jsxs)("div",{className:"space-y-1 text-center",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(M(),{src:"/icons/transfer-lock.png",alt:"lock-icon",width:75,height:75})}),(0,n.jsx)("h4",{className:"text-black-500 text-lg font-medium",children:"Withdraw"}),(0,n.jsx)("p",{className:"text-gray-500",children:"Tokens are unlocked, you are now able to fully withdraw them to your wallet."})]}),(0,n.jsxs)("div",{className:y()(d?"":"grid grid-cols-2","w-full rounded-md border border-neutral-200 px-4 py-3"),children:[(0,n.jsxs)("div",{className:"inline-flex items-center gap-x-2",children:[(0,n.jsx)(x.Oi,{className:"h-12 w-12",src:(0,u.XP)(b)}),(0,n.jsxs)("div",{className:"flex flex-col text-left",children:[(0,n.jsx)("span",{className:"-mb-1 text-sm text-gray-600",children:"Available"}),(0,n.jsxs)("span",{className:"text-lg font-medium",children:[f," ",m]})]})]}),!d&&(0,n.jsxs)("div",{className:"flex flex-col text-left",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"Withdraw Amount"}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)(G,{type:"number",name:"amount",fullWidth:!0,value:a,error:!!g,disabled:p,onChange:e=>N(e.target.value)}),(0,n.jsx)(x.zx,{className:"ml-1",type:"button",variant:"secondary",size:"xs",onClick:()=>N(f),children:"Max"})]})]})]}),(0,n.jsxs)("div",{className:"inline-flex w-full gap-x-2",children:[(0,n.jsx)(x.zx,{isLoading:r,disabled:r||!!g,fullWidth:!0,onClick:()=>l(),children:"Withdraw"}),(0,n.jsx)(x.zx,{fullWidth:!0,disabled:r,variant:"secondary",onClick:()=>t(!1),children:"Close"})]})]})})}G.defaultProps={className:void 0,variant:"primary",fullWidth:!1,error:!1};const ee=new RegExp("".concat("0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"),"i"),se="MMM. Do YYYY";function te(e){let{index:s,item:t,chainId:b,updateLock:v}=e;var C;const{library:L,connector:I}=(0,f.Ge)(),[A,z]=(0,T.useState)(k()(t,"token.isNFT",!1)?"1":w.bM(k()(t,"event.lockAmount","0"),t.liquidityContract?k()(t,"liquidityContract.tokenDecimals",18):k()(t,"token.tokenDecimals",18))),[D,q]=(0,T.useState)("0"),[Z,P]=(0,T.useState)("0"),[Q,_]=(0,T.useState)(!1),[G,te]=(0,T.useState)(!1),[ne,ae]=(0,T.useState)(!1),[ie,le]=(0,T.useState)(!1),[re,ce]=(0,T.useState)(!1),[de,oe]=(0,T.useState)(!1),[ue,me]=(0,T.useState)(!1),[xe,he]=(0,T.useState)(!1),[fe,pe]=(0,T.useState)(!1),[ge,je]=(0,T.useState)(""),[be,ye]=(0,T.useState)(""),[we,Ne]=(0,T.useState)(!1),{appConfluxInfo:ve}=(0,p.b)(),ke=k()(t,"event",{}),Ce=k()(ke,"chainId",""),Se=Ce===ve.chainId,Le=k()(t,"liquidityContract",{}),Me=k()(ke,"isWithdrawn"),Te=k()(ke,"unlockTime"),Oe=k()(ke,"timeStamp",k()(ke,"createdAt")),We=k()(ke,"lockDepositId"),Ee=k()(ke,"isMigrated"),Ie=k()(ke,"isNftMinted"),Ae=k()(ke,"isRewardLock",!1),ze=k()(ke,"factoryLockContractAddress",""),De=k()(ke,"network","ethereum"),Ye=k()(ke,"withdrawalAddress","").toLowerCase()===(null===(C=ve.account)||void 0===C?void 0:C.toLowerCase()),qe=k()(t,"token",{}),Fe=k()(qe,"tokenName",""),Ze=k()(qe,"tokenSymbol",""),Pe=k()(qe,"tokenDecimals",18),Ue=k()(qe,"tokenImage",""),Re=k()(t,"pair",{}),Xe=k()(Re,"tokenImage",""),Qe=k()(qe,"isNFT"),$e=k()(ke,"lockAmount","0"),Be=w.bM($e,Pe),He=k()(ke,"tokenAddress",""),Ke=k()(ke,"tokenId",""),Ve=k()(ke,"transactionHash","");let _e=S().unix(Number(Te))>S()()?"locked":"unlocked";Me&&(_e="withdrawn");const Ge=ee.test(He),Je=k()(Le,"tokenName"),es=k()(Le,"tokenSymbol"),ss=k()(Le,"tokenDecimals",18),ts=!!k()(ke,"liquidityContractAddress"),ns=w.bM($e,ss),as="number"===typeof Oe?S().unix(Number(Oe)).format(se):S()(Oe).format(se),is=k()(ke,"lockContractAddress","").toLowerCase(),ls=(0,j.g)(ve.chainId).lockToken,rs=is===h.wd["0x1"].toLowerCase(),cs=Ee||"withdrawn"===_e||rs,ds=Ee||"unlocked"!==_e,os=!(0,h.wY)(Ce,ls)||Ie||"withdrawn"===_e||Ee,us=Qe||!(0,h.Zk)(Ce,ls)||"withdrawn"===_e||Ee,ms=!(0,h.Cf)(Ce,ls.toLowerCase());return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex w-full flex-col gap-6 border-b border-neutral-200 p-6 md:flex-row md:items-center md:justify-between",children:[(0,n.jsxs)("div",{className:"grid items-center sm:grid-cols-12 sm:gap-6",children:[(0,n.jsx)("div",{className:"mb-4 flex items-center justify-center sm:col-span-3 sm:mb-0",children:ts?(0,n.jsxs)("div",{className:"flex -space-x-4",children:[(0,n.jsx)(x.Oi,{className:"h-12 w-12 rounded-full border border-white",chainId:Ce,src:Ue||(0,u.XP)(He)}),(0,n.jsx)(x.Oi,{className:"h-12 w-12 rounded-full border border-white",chainId:Ce,src:Xe||(0,u.XP)(He)})]}):(0,n.jsx)(x.Oi,{className:"h-14 w-14",chainId:Ce,src:Ue||(0,u.XP)(He)})}),(0,n.jsxs)("div",{className:"sm:col-span-9",children:[Ge||ts?(0,n.jsx)("span",{children:(0,n.jsxs)("h4",{className:"font-medium text-neutral-800",children:[Ge?"Ethereum":Je," -"," ","".concat((0,h.uf)(Number(ts?ns:Be))," ").concat(Ge?Fe:ts?es:Ze)]})}):(0,n.jsxs)(x.EX,{href:"/view-coin/".concat(He,"/").concat(Ke,"?name=").concat(Fe,"&symbol=").concat(Ze,"&chainid=").concat(Ce),children:[(0,n.jsx)("h4",{className:"font-medium text-neutral-800",children:Fe}),(0,n.jsx)("span",{className:"-mt-0.5 mb-1.5 block text-sm text-neutral-600",children:"".concat((0,h.uf)(Number(Be))," ").concat(Ze)})]}),(0,n.jsx)(Y,{status:_e,unlockDate:S().unix(Te),createdDate:"number"===typeof Oe?S().unix(Oe):S()(Oe)}),(0,n.jsxs)("span",{className:"inline-flex items-center gap-x-1.5 text-sm text-neutral-800",children:["Locked ".concat(as," "),(0,n.jsx)(W.WFu,{})," Unlocks ".concat(S().unix(Te).format(se))]})]})]}),(0,n.jsx)("div",{className:"z-11 relative inline-flex w-fit rounded-md shadow-sm",children:Ye?Se?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{disabled:cs,type:"button",className:y()(cs?"text-gray-300":"text-gray-700","relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium hover:bg-gray-50 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"),onClick:()=>oe((e=>!e)),children:["Transfer",(0,n.jsx)("div",{className:"hidden sm:block",children:(0,n.jsx)(O.qau,{className:"ml-1.5",size:12})})]}),(0,n.jsxs)("button",{disabled:cs,type:"button",className:y()(cs?"text-gray-300":"text-gray-700","relative -ml-px inline-flex items-center border border-gray-300 bg-white px-4 py-2 text-sm font-medium hover:bg-gray-50 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"),onClick:()=>te((e=>!e)),children:["Extend",(0,n.jsx)("div",{className:"hidden sm:block",children:(0,n.jsx)(O.Psn,{className:"ml-1.5",size:12})})]}),(0,n.jsxs)(a.v,{as:"div",className:"relative -ml-px block",children:[(0,n.jsxs)(a.v.Button,{className:"relative inline-flex w-full items-center rounded-r-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none",children:[(0,n.jsx)("span",{className:"mr-1",children:"Options"}),(0,n.jsx)(l.OrA,{className:"h-5 w-5","aria-hidden":"true"})]}),(0,n.jsx)(i.u,{as:T.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsx)(a.v.Items,{className:"absolute right-0 z-50 -mr-1 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,n.jsxs)("div",{className:"py-1",children:[(0,n.jsx)(a.v.Item,{children:e=>{let{active:s}=e;return(0,n.jsxs)("button",{disabled:ds,type:"button",onClick:()=>_((e=>!e)),className:y()(s?"bg-gray-100 text-gray-900":ds?"text-gray-300":"text-gray-700","inline-flex w-full items-center gap-x-1.5 px-4 py-2 text-sm"),children:[(0,n.jsx)(O.Lrt,{size:12}),"Withdraw"]})}},"withdraw"),(0,n.jsx)(a.v.Item,{children:e=>{let{active:s}=e;return(0,n.jsxs)("button",{disabled:os,type:"button",onClick:()=>le((e=>!e)),className:y()(s?"bg-gray-100 text-gray-900":os?"text-gray-300":"text-gray-700","inline-flex w-full items-center gap-x-1.5 px-4 py-2 text-sm"),children:[(0,n.jsx)(O.wEH,{size:12}),"Issue NFT"]})}},"issueNft"),(0,n.jsx)(a.v.Item,{children:e=>{let{active:s}=e;return(0,n.jsxs)("button",{disabled:!0,type:"button",onClick:()=>ae((e=>!e)),className:y()(s?"bg-gray-100 text-gray-900":"text-gray-300","inline-flex w-full items-center gap-x-1.5 px-4 py-2 text-sm"),children:[(0,n.jsx)(O.zLx,{size:12}),"Migrate"]})}},"migrate"),(0,n.jsx)(a.v.Item,{children:e=>{let{active:s}=e;return(0,n.jsxs)("button",{disabled:us,type:"button",onClick:()=>ce((e=>!e)),className:y()(s?"bg-gray-100 text-gray-900":us?"text-gray-300":"text-gray-700","inline-flex w-full items-center gap-x-1.5 px-4 py-2 text-sm"),children:[(0,n.jsx)(O.uOL,{size:12}),"Split Lock"]})}},"splitLock")]})})})]})]}):Ce&&(0,n.jsx)(c.Z,{text:"Change network to ".concat((0,h.IC)(d.Z,Ce,"name")," to see lock details"),children:(0,n.jsxs)("button",{type:"button",className:"relative -ml-px inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",onClick:()=>(()=>{try{ve.account&&L&&Ce&&I&&(0,m.Z)(Ce,I,L)}catch(e){console.error(e),r.Tb(e)}})(),children:["Switch Network \xa0"," ",(0,n.jsx)(M(),{src:(0,h.IC)(d.Z,Ce,"icon"),alt:"network-icon",width:20,height:20})]})}):(0,n.jsx)(x.ZP,{size:"md",variant:"secondary",href:(0,h.wE)(Ce,Ve),icon:(0,n.jsx)(O.kpq,{className:"ml-1 text-[#222222]/60",size:12}),className:"font-medium !text-[#222222]",children:"View Transaction"})})]},s),(0,n.jsx)(J,{open:Q,setOpen:()=>_(!1),withdrawAmount:A,setWithdrawAmount:z,handleWithdraw:async()=>{try{Ne(!0);const e=new g.Z(ls,ve.provider),s=await(0,K.o3)(ve.provider);if(await e.withdrawTokens(ve.account,s,We),v){let e=t;e=Qe||ms?{...t,event:{...t.event,lockAmount:"0"}}:{...t,event:{...t.event,lockAmount:N.O$.from(t.event.lockAmount).sub(w.vz(A,t.liquidityContract?ss:Pe)).toString(),isWithdrawn:!!N.O$.from(t.event.lockAmount).eq(w.vz(A,t.liquidityContract?ss:Pe))}},v(e)}Ae?await(0,h.Kl)(ls,ze,We,b,Qe,De):await(0,h.QE)(ls,We,ve.chainId,"conflux"),ye("Withdrawal successfull"),pe(!0)}catch(e){console.error(e),e.message.includes("user rejected transaction")||e.message.includes("transaction was replaced")||e.message.includes("User rejected request")||r.Tb(e),je("Withdrawal failed"),he(!0)}finally{_(!1),Ne(!1)}},item:t,isLoading:we,isPartialWithdrawDisabled:ms}),G&&(0,n.jsx)(U,{open:G,setOpen:()=>te(!1),oldUnlockTime:Te,handleExtendLock:async e=>{try{Ne(!0);const s=new g.Z(ls,ve.provider),n=await(0,K.o3)(ve.provider);if(await s.extendToken(ve.account,n,We,e.toString()),v){let s=t;s={...t,event:{...t.event,unlockTime:e}},v(s)}Ae?await(0,h.Kl)(ls,ze,We,b,Qe,De):await(0,h.QE)(ls,We,ve.chainId,"conflux"),ye("Extend lock successfull"),pe(!0)}catch(s){console.error(s),s.message.includes("user rejected transaction")||s.message.includes("transaction was replaced")||s.message.includes("User rejected request")||r.Tb(s),je("Extend lock failed"),he(!0)}finally{te(!1),Ne(!1)}},isLoading:we}),ne&&(0,n.jsx)(R,{open:ne,setOpen:()=>ae(!1)}),ie&&(0,n.jsx)(X,{open:ie,setOpen:()=>le(!1),handleMintNft:async()=>{try{Ne(!0);const e=await(0,E.cf)(We,L,ve.account,ls);if(await e.wait(),v){let e=t;e={...t,event:{...t.event,isNftMinted:!0}},v(e)}await(0,h.QE)(ls,We,b,De),ye("NFT mint successfull"),pe(!0)}catch(e){console.error(e),e.message.includes("user rejected transaction")||e.message.includes("transaction was replaced")||e.message.includes("User rejected request")||r.Tb(e),je("NFT mint failed"),he(!0)}finally{le(!1),Ne(!1)}},isLoading:we}),re&&(0,n.jsx)(B,{open:re,setOpen:()=>ce(!1),amount:$e,decimals:t.liquidityContract?ss:Pe,address:He,symbol:Ze,chainId:b,item:t,isLoading:we,handleSplitLock:async(e,s,t,n)=>{try{Ne(!0);const a=await(0,E.EQ)(We,L,ve.account,ls,t,e,s,n);await a.wait(),await(0,h.QE)(ls,We,b,De);const i=new o.XP(ls,L.getSigner()),l=await i.depositId();await(0,h.QE)(ls,l,b,De),ye("Split lock successfull"),pe(!0)}catch(a){console.error(a),a.message.includes("user rejected transaction")||a.message.includes("transaction was replaced")||a.message.includes("User rejected request")||r.Tb(a),je("Split lock failed"),he(!0)}finally{ce(!1),Ne(!1)}}}),de&&(0,n.jsx)(V,{open:de,setOpen:()=>oe(!1),isLoading:we,handleTransferLock:async e=>{try{Ne(!0);const s=new g.Z(ls,ve.provider),n=await(0,K.o3)(ve.provider);if(await s.transferLockToken(ve.account,n,We,e),v){let s=t;s={...t,event:{...t.event,withdrawalAddress:e}},v(s)}Ae?await(0,h.Kl)(ls,ze,We,b,Qe,De):await(0,h.QE)(ls,We,ve.chainId,"conflux"),ye("Transfer lock successfull"),pe(!0)}catch(s){console.error(s),s.message.includes("user rejected transaction")||s.message.includes("transaction was replaced")||s.message.includes("User rejected request")||r.Tb(s),je("Transfer lock failed"),he(!0)}finally{oe(!1),Ne(!1)}},chainId:b}),ue&&(0,n.jsx)($,{open:ue,setOpen:()=>me(!1),rewardAmount:D,getRewardsAmount:async e=>{try{let s;Ne(!0),s=null!==e&&void 0!==e&&""!==e?e:He;const t=Qe?new o.Ib(ls,L.getSigner()):new o.RO(ls,L.getSigner());q((await t.getRewards(s)).toString())}catch(s){console.error(s)}finally{Ne(!1)}},rewardsWithdrawAmount:Z,setRewardsWithdrawAmount:P,handleWithdraw:async(e,s)=>{try{Ne(!0);const n=await(0,E.VP)(Qe,L,ve.account,ls,t.liquidityContract?ss:Pe,e,s,He,Z);await n.wait(),ye("Rewards withdrawal successfull"),pe(!0)}catch(n){console.error(n),n.message.includes("user rejected transaction")||n.message.includes("transaction was replaced")||n.message.includes("User rejected request")||r.Tb(n),je("Rewards withdrawal failed"),he(!0)}finally{me(!1),Ne(!1)}},getCustomTokenDetails:async e=>{try{Ne(!0);const s=new o.ah(e,L.getSigner()),t=(await s.decimals()).toString(),n=await s.symbol();return Ne(!1),await Promise.resolve({decimals:t,symbol:n})}catch(s){return console.error(s),r.Tb(s),Ne(!1),await Promise.resolve({decimals:"",symbol:""})}},isLoading:we,item:t}),xe&&(0,n.jsx)(F,{open:xe,setOpen:()=>he(!1),errorMsg:ge}),fe&&(0,n.jsx)(H,{open:fe,setOpen:()=>pe(!1),successMsg:be})]})}te.defaultProps={updateLock:void 0}},65863:function(e,s,t){var n=t(52322);t(2784);function a(e){let{children:s,text:t}=e;return(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)("div",{className:"relative before:absolute before:left-1/2 before:-top-3 before:w-max before:max-w-xs before:-translate-x-1/2 before:-translate-y-full before:rounded-md before:bg-gray-700 before:px-3 before:py-2 before:text-white before:opacity-0 before:transition-all before:duration-300 before:content-[attr(data-tip)] after:absolute after:left-1/2 after:-top-3 after:h-0 after:w-0 after:-translate-x-1/2 after:border-8 after:border-t-gray-700 after:border-l-transparent after:border-b-transparent after:border-r-transparent after:opacity-0 after:transition-all after:duration-300 hover:before:opacity-80 hover:after:opacity-80","data-tip":t,children:s})})}a.defaultProps={text:void 0},s.Z=a}}]);