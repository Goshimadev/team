"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{4354:function(e,n,s){s.d(n,{b:function(){return l}});var t=s(52322),a=s(72779),o=s.n(a);s(2784);const i={green:"border-green-500 bg-green-100 dark:bg-green-200 text-green-700",yellow:"border-yellow-500 bg-yellow-100 dark:bg-yellow-200 text-yellow-700",red:"border-red-500 bg-red-100 dark:bg-red-200 text-red-700",blue:"border-blue-500 bg-blue-100 dark:bg-blue-200 text-blue-700"};function l(e){let{className:n,children:s,variant:a="red"}=e;return(0,t.jsxs)("div",{id:"alert-border-1",className:o()(n,i[a],"flex border-t-4 p-4"),role:"alert",children:[(0,t.jsx)("svg",{className:"h-5 w-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,t.jsx)("div",{className:"ml-3 text-sm font-medium",children:s})]})}l.defaultProps={className:void 0,variant:"red"}},71531:function(e,n,s){s.d(n,{Z:function(){return d}});var t=s(52322),a=s(72779),o=s.n(a),i=s(73053),l=(s(2784),s(37726)),r=s.n(l),c=s(30924);function d(e){let{unlockDate:n,disabled:s,setUnlockDate:a}=e;return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(r(),{disabled:s,selected:n,onChange:e=>a(e),nextMonthButtonLabel:">",previousMonthButtonLabel:"<",minDate:new Date,popperClassName:"react-datepicker-left",renderCustomHeader:e=>{let{date:n,decreaseMonth:s,increaseMonth:a,prevMonthButtonDisabled:l,nextMonthButtonDisabled:r}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between px-2 py-1.5",children:[(0,t.jsx)("span",{className:"text-lg text-gray-700",children:(0,i.default)(n,"MMMM yyyy")}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)("button",{type:"button",className:o()({"cursor-not-allowed opacity-50":l},"inline-flex rounded border border-gray-300 bg-white p-1 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none"),onClick:s,disabled:l,children:(0,t.jsx)(c.G$x,{className:"text-gray-600",size:20})}),(0,t.jsx)("button",{type:"button",className:o()({"cursor-not-allowed opacity-50":r},"inline-flex rounded border border-gray-300 bg-white p-1 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none"),onClick:a,disabled:r,children:(0,t.jsx)(c.BM9,{className:"text-gray-600",size:20})})]})]})}})})}},64956:function(e,n,s){s.d(n,{S:function(){return le},Z:function(){return re}});var t=s(52322),a=s(2784),o=s(89616),i=s(95193),l=s(5859),r=s(25224),c=s(92642),d=s(4354),u=s(71531),x=s(90654),m=s(53062),h=s(57829),p=s(24407),f=s(8233),N=s(30705),y=s(18998),T=s(53003),j=s(28879),g=s.n(j),k=s(57449),b=s.n(k),w=s(67338),v=s.n(w),I=s(10528),E=s(30171),O=s(77962),_=s(32533),L=s(96577),S=s.n(L),C=s(77245),F=s(15334),R=s(99035),D=s(34352);function A(e){let{open:n,setOpen:s,amount:a,symbol:o,feeAmount:i,feeCurrency:l}=e;return(0,t.jsxs)(D.Z,{open:n,setOpen:()=>s(!1),children:[(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(C.sOR,{className:"mr-2 h-24 w-24 animate-spin text-blue-700","aria-hidden":"true"})}),(0,t.jsx)("h1",{className:"mt-3 text-lg font-medium",children:"Waiting For Confirmation"}),(0,t.jsxs)("p",{className:"text-neutral-700",children:["Locking"," ",(0,t.jsxs)("span",{className:"font-medium",children:[a," ",o]})," ","with a fee of"," ",(0,t.jsxs)("span",{className:"font-medium",children:[i," ",l]})]}),(0,t.jsx)("span",{className:"mt-3 block rounded-md border border-blue-200 bg-blue-100 py-1 px-2 text-blue-800",children:"Confirm this transaction in your wallet"})]})}function P(e){let{open:n,setOpen:s,chainId:a,transactionHash:i}=e;return(0,t.jsx)(D.Z,{open:n,setOpen:()=>s(!1),children:(0,t.jsxs)("div",{className:"w-72",children:[(0,t.jsx)("div",{className:"my-4 flex items-center justify-center",children:(0,t.jsx)(C.hXj,{className:"mr-2 h-24 w-24 animate-bounce text-blue-700","aria-hidden":"true"})}),(0,t.jsx)("h1",{className:"mb-2 text-lg font-medium",children:"Transaction Submitted"}),(0,t.jsx)(o.EX,{className:"flex justify-center font-medium text-blue-600 hover:underline",href:(0,y.wE)(a,i),children:"View on explorer"}),(0,t.jsx)(o.zx,{className:"mt-4",fullWidth:!0,onClick:()=>s(!1),children:"Close"})]})})}var K=s(60740);g().extend(b()),g().extend(v());function M(e){let{dispatch:n,state:s}=e;const[j,k]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),[v,L]=(0,a.useState)(!1),[D,M]=(0,a.useState)(s.tokenType===i.LN.NFT_TOKEN?"1":""),[U,W]=(0,a.useState)("-"),[z,H]=(0,a.useState)(0),[Y,q]=(0,a.useState)(new Date(Date.now()+2592e6)),[V,X]=(0,a.useState)(I.O$.from(0)),[B]=(0,a.useState)(!1),[Q,G]=(0,a.useState)({fetchError:null,approveError:null,lockError:null}),[Z,J]=(0,a.useState)(null),{account:$,library:ee}=(0,T.Ge)(),{appConfluxInfo:ne}=(0,l.b)(),se=(0,a.useCallback)((async()=>{L(!0),console.log("get user details");try{const e=(0,p.g)(s.chainId);if(s.tokenType===i.LN.NFT_TOKEN){const n=(0,y.tg)(s.chainId),t=new E.CH(n,m.K4,ee),a=await t.getApproved(s.liquidityNftInfo.id),o=e.lockToken;k(a===o);const i=new f.XP(o,ee.getSigner()),l=await i.getFeesInETH(o);H(l)}else if(s.tokenType===i.LN.PROJECT_TOKEN||s.tokenType===i.LN.LIQUIDITY_TOKEN||s.tokenType===i.LN.REWARD_TOKEN){console.log("getApproval");const n=s.tokenType===i.LN.REWARD_TOKEN?e.rewardLockToken:e.lockToken;console.log("tok add",s.tokenInfo.address);const t=(await(0,F.r5)(s.tokenInfo.address,ne.account,n,ne.provider)).toString();console.log("allow",t),k(t>0);const a=await(0,F.db)(s.tokenInfo.address,ne.account,ne.provider);console.log("bal",a),X(a),W(O.bM(a,s.tokenInfo.decimals)),console.log("bal2",O.bM(a,s.tokenInfo.decimals));const o=new R.Z(n,ne.provider),l=await o.getFeesInETH(s.tokenInfo.address);H(l)}}catch(e){console.log("err2"),console.error(e),n({type:r.a.SET_OUTCOME,payload:{success:!1,errorMsg:"Couldn't fetch your wallet details. Please try again."}}),c.Tb(e)}finally{L(!1)}}),[s.tokenType,s.chainId,s.liquidityNftInfo.id,s.tokenInfo.address,s.tokenInfo.decimals,ee,n,ne.account,ne.provider]);function te(e){try{if(Number(e)>0){const n=O.vz(e,s.tokenInfo.decimals);I.O$.from(V).lt(I.O$.from(n))?J("Your wallet balance is too low."):J(null)}else J("Invalid amount")}catch(n){console.error(n)}M(e)}(0,a.useEffect)((()=>{ne.account&&ne.provider&&se()}),[ne.account,ne.provider,se]);return(0,t.jsxs)("div",{className:"border-t border-neutral-200",children:[s.showWaitingConfirmModal&&(0,t.jsx)(A,{open:s.showWaitingConfirmModal,setOpen:()=>{return e=!1,void n({type:r.a.SET_VISIBLE_MODAL_WAITING_CONFIRM,payload:e});var e},amount:D,symbol:s.tokenInfo.symbol,feeAmount:parseFloat(O.dF(0)).toFixed(4),feeCurrency:"CFX"}),s.showViewEtherscanModal&&(0,t.jsx)(P,{open:s.showViewEtherscanModal,setOpen:()=>{return e=!1,void n({type:r.a.SET_VISIBLE_MODAL_VIEW_ETHERSCAN,payload:e});var e},chainId:s.chainId,transactionHash:s.transactionHash}),Q.fetchError&&(0,t.jsx)(d.b,{children:Q.fetchError}),Q.approveError&&(0,t.jsx)(d.b,{children:Q.approveError}),Q.lockError&&(0,t.jsx)(d.b,{children:Q.lockError}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"mx-auto flex flex-col items-center justify-center gap-4 md:max-w-md",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(S(),{src:"/icons/lock-tokens.png",alt:"lock-icon",width:75,height:75}),(0,t.jsx)("p",{className:"text-gray-500",children:"Configure Lock"})]}),(0,t.jsxs)("div",{className:"w-full divide-y divide-neutral-200 rounded-md border border-neutral-200",children:[(0,t.jsxs)("div",{className:"flex flex-col py-3 px-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Symbol"}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-x-1.5 font-medium",children:[(s.tokenType===i.LN.PROJECT_TOKEN||s.tokenType===i.LN.REWARD_TOKEN)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("span",{className:"text-lg font-medium ",children:s.tokenInfo.symbol})}),(0,t.jsx)(o.Oi,{src:(0,N.XP)(s.tokenInfo.address),alt:"logo2",className:"ml-1 h-8 w-8 rounded-full border border-white object-contain",chainId:s.chainId})]}),s.tokenType===i.LN.LIQUIDITY_TOKEN&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("span",{className:"text-lg font-medium ",children:[s.liquidityTokenInfo.token0.symbol,"/",s.liquidityTokenInfo.token1.symbol]})}),(0,t.jsxs)("div",{className:"ml-2 flex -space-x-2",children:[(0,t.jsx)(o.Oi,{src:(0,N.XP)(s.liquidityTokenInfo.token0.id),alt:"logo2",className:"h-8 w-8 rounded-full border border-white object-contain",chainId:s.chainId}),(0,t.jsx)(o.Oi,{src:(0,N.XP)(s.liquidityTokenInfo.token1.id),alt:"logo2",className:"h-8 w-8 rounded-full border border-white object-contain",chainId:s.chainId})]})]}),s.tokenType===i.LN.NFT_TOKEN&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("span",{className:"text-lg font-medium ",children:[s.liquidityNftInfo.token0.symbol,"/",s.liquidityNftInfo.token1.symbol]})}),(0,t.jsxs)("div",{className:"ml-2 flex -space-x-2",children:[(0,t.jsx)(o.Oi,{src:(0,N.XP)(s.liquidityNftInfo.token0.id),alt:"logo2",className:"h-8 w-8 rounded-full border border-white object-contain",chainId:s.chainId}),(0,t.jsx)(o.Oi,{src:(0,N.XP)(s.liquidityNftInfo.token1.id),alt:"logo2",className:"h-8 w-8 rounded-full border border-white object-contain",chainId:s.chainId})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col py-3 px-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Balance"}),(0,t.jsx)("span",{className:"font-medium",children:U})]}),(0,t.jsxs)("div",{className:"flex flex-col py-3 px-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Lock Amount"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(o.II,{className:"w-40",type:"number",name:"amount",placeholder:"0",value:D,onChange:e=>te(e.target.value),disabled:v||s.tokenType===i.LN.NFT_TOKEN,onKeyPress:e=>{"Slash"!==e.code&&"Minus"!==e.code||e.preventDefault()},onPaste:e=>{const{clipboardData:n}=e;parseFloat(n.getData("text"))<0&&e.preventDefault()},error:!!Z}),(0,t.jsx)(o.zx,{className:"ml-1",type:"button",variant:"secondary",size:"xs",onClick:()=>te(U),children:"Max"})]}),!!Z&&(0,t.jsx)("span",{className:"text-sm text-red-500",children:Z})]})]})]}),(0,t.jsx)(C.Uh_,{size:18}),(0,t.jsxs)("div",{className:"grid w-full grid-cols-2 gap-4 rounded-md border border-gray-300 px-4 py-3",children:[(0,t.jsxs)("div",{className:"w-full space-y-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Unlock Date"}),(0,t.jsx)(u.Z,{unlockDate:Y,setUnlockDate:q,disabled:v})]}),(0,t.jsxs)("div",{className:"w-full space-y-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Unlock Time"}),(0,t.jsx)(x.Z,{unlockTime:Y,setUnlockTime:q,disabled:v})]})]}),(0,t.jsxs)("div",{className:"w-full space-y-1 text-sm text-neutral-500",children:[(0,t.jsxs)("div",{className:"flex justify-between px-0.5",children:[(0,t.jsx)("span",{children:"Service Fee"}),(0,t.jsx)("span",{className:"text-green-500",children:"".concat(z," CFX")})]}),(0,t.jsxs)("div",{className:"flex justify-between px-0.5",children:[(0,t.jsx)("span",{children:"Total Lockup Amount"}),(0,t.jsx)("span",{children:"".concat(D," ").concat(s.tokenInfo.symbol)})]}),(0,t.jsxs)("div",{className:"flex justify-between px-0.5",children:[(0,t.jsx)("span",{children:"Unlock Date"}),(0,t.jsx)("span",{children:g()(Y).format("MM/DD/YYYY hh:mm A z")})]})]}),(0,t.jsxs)("div",{className:"inline-flex w-full space-x-4",children:[(0,t.jsx)(o.zx,{fullWidth:!0,disabled:j||v||b||Q.fetchError,isLoading:b&&!j,onClick:()=>async function(){console.log("cheguei no handleApproveToken");try{window.dataLayer.push({event:"approve-lock"});const e=(0,p.g)(s.chainId);if(s.tokenType===i.LN.NFT_TOKEN){const n=e.lockToken,t=new _.vU(m.K4).encodeFunctionData("approve",[n,s.liquidityNftInfo.id]),a=await ee.getFeeData(),{gasPrice:o}=a,i=(0,y.tg)(s.chainId),l=await(0,K.oB)(ee,$,i,I.O$.from(0),t,"approve"),r={value:0,gasPrice:o,data:t,to:i,from:$,gasLimit:l},c=await ee.getSigner().sendTransaction(r);w(!0),await c.wait(),k(!0),G({...Q,approveError:null})}else if(s.tokenType===i.LN.PROJECT_TOKEN||s.tokenType===i.LN.LIQUIDITY_TOKEN||s.tokenType===i.LN.REWARD_TOKEN){const n=O.vz(D,s.tokenInfo.decimals);console.log("amount",D," amountStr",n.toString());const t=await(0,F.o3)(ne.provider);console.log("gasPrice2",t),w(!0),await(0,F.tN)(s.tokenInfo.address,s.account,n.toString(),t,e.lockToken,ne.provider),k(!0),G({...Q,approveError:null})}else console.error("No valid token type"),k(!1),G({...Q,approveError:"Couldn't approve your token. Please try again."})}catch(e){console.log("err3"),console.error(e),k(!1),G({...Q,approveError:"Couldn't approve your token. Please try again."}),e.message.includes("user rejected transaction")||e.message.includes("transaction was replaced")||c.Tb(e)}finally{L(!1)}}(),children:b&&!j?"Approving...":"Approve"}),(0,t.jsx)(o.zx,{fullWidth:!0,disabled:v||!j||!D||Z||Q.fetchError||Q.approveError,isLoading:v&&j,onClick:()=>async function(){try{window.dataLayer.push({event:"lock-swap"}),window.dataLayer.push({event:"confirm-lock"}),L(!0);const e=(0,p.g)(s.chainId),t=g()(Y).unix();if(Date.now()/1e3>Number(t))return void G({...Q,lockError:"Date is in the past."});const a=s.tokenType===i.LN.REWARD_TOKEN?e.rewardLockToken:e.lockToken,o=await(0,F.o3)(ne.provider);if(console.log("gasPrice1",o),s.tokenType===i.LN.LIQUIDITY_TOKEN||s.tokenType===i.LN.PROJECT_TOKEN||s.tokenType===i.LN.REWARD_TOKEN){const e=O.vz(D,s.tokenInfo.decimals);if(console.log(e,V),I.O$.from(V).lt(I.O$.from(e)))return void G({...Q,lockError:"Your wallet balance is too low."});n({type:r.a.SET_REQUESTING_LOCK}),window.dataLayer.push({event:"lock-success-alert"}),console.log("creating lockContract");const i=new R.Z(a,ne.provider);console.log("accessing locktoken method");const l=e.toString();console.log("strAmount",l);const c=await i.lockToken(s.tokenInfo.address,ne.account,l,t,o,z);console.log("res",c),n({type:r.a.SET_TRANSACTION_HASH,payload:{transactionHash:c.transactionHash}});const d=await i.depositId();console.log("depositId",d.toString()),await(0,y.QE)(a,d.toString(),s.chainId,"conflux"),n({type:r.a.SET_OUTCOME,payload:{success:!0,errorMsg:null}}),G({...Q,lockError:null})}else if(s.tokenType===i.LN.NFT_TOKEN){const e=(0,y.tg)(s.chainId),i=new _.vU(h).encodeFunctionData("lockNFT",[e,$,1,t,s.liquidityNftInfo.id,B]),l=await(0,K.oB)(ee,$,a,I.O$.from(z),i,"lockNFT"),c={value:z,gasPrice:o,data:i,from:$,gasLimit:l,to:a};n({type:r.a.SET_REQUESTING_LOCK});const d=await ee.getSigner().sendTransaction(c);n({type:r.a.SET_TRANSACTION_HASH,payload:{transactionHash:d.hash}}),await d.wait();const u=new f.XP(a,ee.getSigner()),x=await u.depositId();await(0,y.QE)(a,x,s.chainId,(0,y.GW)(s.chainId)),n({type:r.a.SET_OUTCOME,payload:{success:!0,errorMsg:null}}),G({...Q,lockError:null})}else console.error("No valid token type")}catch(e){console.log("err4"),console.error(e),n({type:r.a.SET_OUTCOME,payload:{success:!1,errorMsg:"Something went wrong in the locking process. Please try again."}}),e.message.includes("user rejected transaction")||e.message.includes("transaction was replaced")||c.Tb(e)}finally{L(!1)}}(),children:"Lock"})]})]})})]})}var U=s(99689);function W(e){let{dispatch:n,state:s}=e;const[l,j]=(0,a.useState)(!1),[k,b]=(0,a.useState)(!1),[w,v]=(0,a.useState)(!1),[L,F]=(0,a.useState)(!1),[R,D]=(0,a.useState)(!0),{account:M,library:W}=(0,T.Ge)(),[z,H]=(0,a.useState)(0),[Y,q]=(0,a.useState)({approveError:null,lockError:null}),[V,X]=(0,a.useState)(new Date(Date.now()+2592e6)),B=(0,a.useCallback)((async()=>{try{const e=(0,p.g)(s.chainId);if(s.nftInfo.address&&M&&s.chainId&&W){if("0"===s.nftInfo.balance.toString())return D(!1),void q({...Y,approveError:"You don't own the NFT with the following details -> Address: ".concat(s.nftInfo.address," TokenId: ").concat(s.nftInfo.tokenId)});b(!0),F(!1);const n=new E.CH(s.nftInfo.address,m.M9,W),t=await n.getApproved(s.nftInfo.tokenId),a=s.tokenType===i.LN.REWARD_NFT?e.rewardLockToken:e.lockToken;j(t===a);const o=s.tokenType===i.LN.REWARD_NFT?new f.dE(a,W.getSigner()):new f.XP(a,W.getSigner()),l=await o.getFeesInETH(a);H(l)}}catch(e){console.error(e),n({type:r.a.SET_OUTCOME,payload:{success:!1,errorMsg:"Couldn't fetch your wallet details. Please try again."}}),c.Tb(e)}finally{b(!1)}}),[s.nftInfo.address,s.nftInfo.balance,s.nftInfo.tokenId,s.chainId,s.tokenType,M,W,Y,n]);return(0,a.useEffect)((()=>{M&&B()}),[M,B]),(0,t.jsxs)("div",{className:"border-t border-neutral-200",children:[s.showWaitingConfirmModal&&(0,t.jsx)(A,{open:s.showWaitingConfirmModal,setOpen:()=>{return e=!1,void n({type:r.a.SET_VISIBLE_MODAL_WAITING_CONFIRM,payload:e});var e},amount:"1",symbol:s.nftInfo.symbol,feeAmount:parseFloat(O.dF(z)).toFixed(4),feeCurrency:(0,y.tl)(s.chainId)}),s.showViewEtherscanModal&&(0,t.jsx)(P,{open:s.showViewEtherscanModal,setOpen:()=>{return e=!1,void n({type:r.a.SET_VISIBLE_MODAL_VIEW_ETHERSCAN,payload:e});var e},chainId:s.chainId,transactionHash:s.transactionHash}),Y.approveError&&(0,t.jsx)(d.b,{children:Y.approveError}),Y.lockError&&(0,t.jsx)(d.b,{children:Y.lockError}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"mx-auto flex flex-col items-center justify-center gap-4 md:max-w-md",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(S(),{src:"/icons/lock-tokens.png",alt:"lock-icon",width:75,height:75}),(0,t.jsx)("p",{className:"text-gray-500",children:"Configure Lock"})]}),(0,t.jsxs)("div",{className:"grid w-full grid-cols-2 rounded-md border border-neutral-200 px-4 py-3",children:[(0,t.jsxs)("div",{className:"flex flex-col text-left",children:[(0,t.jsx)("span",{className:"pl-1",children:"Lock Amount"}),(0,t.jsx)("input",{className:"flex-1 pl-1",type:"number",name:"amount",placeholder:"0",value:1,disabled:!0})]}),(0,t.jsxs)("div",{className:"flex flex-col text-right",children:[(0,t.jsxs)("span",{children:["Balance: ",s.nftInfo.balance.toString()]}),(0,t.jsxs)("div",{className:"mt-1 flex justify-end",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("span",{className:"text-lg font-medium ",children:s.nftInfo.symbol})}),(0,t.jsx)(o.Oi,{src:(0,N.XP)(s.nftInfo.address),alt:"logo2",className:"ml-1 h-8 w-8 rounded-full border border-white object-contain"})]})]})]}),(0,t.jsx)(C.Uh_,{size:18}),(0,t.jsxs)("div",{className:"grid w-full grid-cols-2 gap-4 rounded-md border border-gray-300 px-4 py-3",children:[(0,t.jsxs)("div",{className:"w-full space-y-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Unlock Date"}),(0,t.jsx)(u.Z,{unlockDate:V,setUnlockDate:X,disabled:k})]}),(0,t.jsxs)("div",{className:"w-full space-y-1",children:[(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Unlock Time"}),(0,t.jsx)(x.Z,{unlockTime:V,setUnlockTime:X,disabled:k})]})]}),(0,t.jsxs)("div",{className:"w-full space-y-1 text-sm text-neutral-500",children:[(0,t.jsxs)("div",{className:"flex justify-between px-0.5",children:[(0,t.jsx)("span",{children:"Service Fee"}),(0,t.jsx)("span",{className:"text-green-500",children:"".concat(parseFloat(O.dF(z)).toFixed(4)," ").concat((0,y.tl)(s.chainId))})]}),(0,t.jsxs)("div",{className:"flex justify-between px-0.5",children:[(0,t.jsx)("span",{children:"Total Lockup Amount"}),(0,t.jsx)("span",{children:"1 ".concat(s.nftInfo.symbol)})]}),(0,t.jsxs)("div",{className:"flex justify-between px-0.5",children:[(0,t.jsx)("span",{children:"Unlock Date"}),(0,t.jsx)("span",{children:g()(V).format("MM/DD/YYYY hh:mm A z")})]})]}),(0,t.jsxs)("div",{className:"inline-flex w-full space-x-4",children:[(0,t.jsx)(o.zx,{fullWidth:!0,disabled:l||k||w||!R,onClick:()=>async function(){try{const e=(0,p.g)(s.chainId);q({...Y,approveError:null});const n=s.tokenType===i.LN.REWARD_NFT?e.rewardLockToken:e.lockToken,t=new _.vU(m.K4).encodeFunctionData("approve",[n,s.nftInfo.tokenId]),a=await W.getFeeData(),{gasPrice:o}=a,l=await(0,K.oB)(W,M,s.nftInfo.address,I.O$.from(0),t,"approve"),r={value:0,gasPrice:o,data:t,to:s.nftInfo.address,from:M,gasLimit:l},c=await W.getSigner().sendTransaction(r);v(!0),await c.wait(),j(!0)}catch(e){console.error(e),j(!1),q({...Y,approveError:"Couldn't approve your token. Please try again."}),e.message.includes("user rejected transaction")||e.message.includes("transaction was replaced")||c.Tb(e)}finally{v(!1)}}(),isLoading:w&&!l,children:w&&!l?"Approving...":"Approve"}),(0,t.jsx)(o.zx,{fullWidth:!0,disabled:k||!l||!R||Y.approveError,onClick:()=>async function(){const e=(0,p.g)(s.chainId);try{window.dataLayer.push({event:"lock-swap"}),window.dataLayer.push({event:"confirm-lock"}),b(!0);const t=g()(V).unix();if(Date.now()/1e3>Number(t))return void q({...Y,lockError:"Date is in the past."});if(s.nftInfo.balance.eq(I.O$.from(0)))return void q({...Y,lockError:"Your wallet balance is too low."});const a=s.tokenType===i.LN.REWARD_NFT?e.rewardLockToken:e.lockToken,o=await W.getFeeData(),{gasPrice:l}=o,c=[s.nftInfo.address,M,1,t,s.nftInfo.tokenId];s.tokenType!==i.LN.REWARD_NFT&&c.push(L);const d=s.tokenType===i.LN.REWARD_NFT?new _.vU(U):new _.vU(h),u=s.nftInfo.tokenId?d.encodeFunctionData("lockNFT",c):d.encodeFunctionData("lockToken",[s.nftInfo.address,M,1,t,s.nftInfo.tokenId,L]),x=s.nftInfo.tokenId?"lockNFT":"lockToken",m=await(0,K.oB)(W,M,a,I.O$.from(z),u,x),p={value:z,gasPrice:l,data:u,from:M,gasLimit:m,to:a};n({type:r.a.SET_REQUESTING_LOCK});const f=await W.getSigner().sendTransaction(p);n({type:r.a.SET_TRANSACTION_HASH,payload:{transactionHash:f.hash}}),await f.wait(),n({type:r.a.SET_OUTCOME,payload:{success:!0}}),q({...Y,lockError:null})}catch(t){console.error(t),n({type:r.a.SET_OUTCOME,payload:{success:!1,errorMsg:"Something went wrong in the locking process. Please try again."}}),t.message.includes("user rejected transaction")||t.message.includes("transaction was replaced")||c.Tb(t)}finally{b(!1)}}(),isLoading:k&&l,children:"Lock"})]})]})})]})}var z=s(72779),H=s.n(z),Y=s(72282),q=s.n(Y),V=s(18978);function X(e){let{dispatch:n,state:s}=e;const[l,c]=(0,a.useState)(!1);return(0,t.jsxs)("div",{className:"mx-auto max-w-lg p-4",children:[(0,t.jsxs)("div",{className:"space-y-2 items-center",children:[(0,t.jsx)(S(),{src:"/icons/lock-tokens.png",alt:"lock-icon",width:75,height:75}),(0,t.jsx)("div",{className:H()({"text-green-500":s.success,"text-red-500":!s.success},"flex items-center justify-center gap-x-1.5 text-center text-lg font-medium uppercase"),children:s.success?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(V.FJM,{size:20})," Success"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(V.G5m,{size:20})," Failure"]})})]}),!s.success&&(0,t.jsx)("div",{className:"mt-2 text-center text-gray-900",children:s.errorMsg}),s.transactionHash&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex truncate py-4 text-center text-gray-600",children:["Transaction Hash:",(0,t.jsx)(q(),{text:s.transactionHash,onCopy:()=>{c(!0),setTimeout((()=>{c(!1)}),1500)},children:(0,t.jsxs)("div",{className:"inline-flex items-center truncate text-gray-800",children:[(0,t.jsx)("div",{className:"ml-1 truncate",children:s.transactionHash}),(0,t.jsx)("div",{children:l?(0,t.jsx)(V.FJM,{size:14}):(0,t.jsx)(V.esY,{size:14})})]})})]}),s.tokenType===i.LN.NFT_LOCK?(0,t.jsx)(o.ZP,{className:"mb-4",fullWidth:!0,variant:"secondary",href:"/view-coin/".concat(s.nftInfo.address,"?name=").concat(s.nftInfo.name,"&symbol=").concat(s.nftInfo.symbol,"&chainid=").concat(s.chainId),children:"View on token details page"}):(0,t.jsx)(o.ZP,{className:"mb-4",fullWidth:!0,variant:"secondary",href:"/view-coin/".concat(s.tokenInfo.address,"?name=").concat(s.tokenInfo.name,"&symbol=").concat(s.tokenInfo.symbol,"&chainid=").concat(s.chainId),children:"View on token details page"}),(0,t.jsx)(o.ZP,{fullWidth:!0,variant:"secondary",href:(0,F.jg)(s.chainId,s.transactionHash),children:"View on explorer"})]}),(0,t.jsx)(o.zx,{className:"mt-4",fullWidth:!0,disabled:!1,onClick:()=>n({type:r.a.HANDLE_START_OVER}),children:"Start Over"})]})}var B=s(58194);function Q(e){let{dispatch:n,nftInfo:s}=e;const[l,d]=(0,a.useState)(""),[u,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),[f,j]=(0,a.useState)(!1),[g,k]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),{library:v,account:I}=(0,T.Ge)();return(0,t.jsx)("div",{className:"space-y-4 border-t border-neutral-200 p-6",children:(0,t.jsxs)("div",{className:"mx-auto flex flex-col items-center justify-center space-y-4 md:max-w-md",children:[(0,t.jsxs)("div",{className:"py-4 text-center",children:[(0,t.jsx)(S(),{src:"/icons/lock-tokens.png",alt:"lock-icon",width:75,height:75}),(0,t.jsx)("p",{className:"text-gray-500",children:i.nz[i.LN.NFT_LOCK].subtitleFindToken})]}),(0,t.jsx)(o.II,{fullWidth:!0,type:"text",disabled:g||b,name:"contractAddress",placeholder:"NFT Contract Address",onChange:e=>function(e){d(e);try{B.UJ(e)?x(!0):x(!1)}catch(n){x(!1),console.error(n)}}(e.target.value)}),(0,t.jsx)(o.II,{fullWidth:!0,type:"text",disabled:g||b,name:"tokenId",placeholder:"NFT TokenId",onChange:e=>function(e){p(e);try{const n=Number(e);Number.isInteger(n)&&n>=0?j(!0):j(!1)}catch(n){j(!1),console.error(n)}}(e.target.value)}),b&&(0,t.jsxs)("div",{className:"w-full divide-y divide-neutral-200 rounded-md border border-neutral-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Name"}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-x-1.5 font-medium",children:[s.name,(0,t.jsx)(o.Oi,{alt:"logo",src:(0,N.XP)(s.address),className:"h-8 w-8 object-contain"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Symbol"}),(0,t.jsx)("span",{className:"font-medium",children:s.symbol})]})]}),!b&&(0,t.jsx)(o.zx,{fullWidth:!0,disabled:!l||!u||!f||!h||g,isLoading:g,onClick:()=>async function(){try{if(k(!0),v){const e=new E.CH(l,m.jc,v);if(!(await e.supportsInterface("0x5b5e139f")))return void w(!1);const s=new E.CH(l,m.M9,v),t=await(0,y.bH)(l,I,v),a=await e.supportsInterface("0x80ac58cd"),o=a?await s.symbol():"",i=a?await s.name():"";n({type:r.a.SET_NFT_INFO,payload:{nftInfo:{address:l,symbol:o,name:i,balance:t,tokenId:h}}}),w(!0)}}catch(e){console.error(e),w(!1),c.Tb(e)}finally{k(!1)}}(),children:g?"Fetching...":"Search"}),b&&(0,t.jsx)(o.zx,{fullWidth:!0,disabled:!b,onClick:()=>n({type:r.a.HANDLE_NEXT}),children:"Continue"})]})})}var G=s(72579),Z=s.n(G),J=s(16760),$=s.n(J),ee=s(84636),ne=s.n(ee);function se(e){let{dispatch:n,state:s}=e;const[u,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,j]=(0,a.useState)("-"),[g,k]=(0,a.useState)(null),{library:b,account:w}=(0,T.Ge)(),{appConfluxInfo:v}=(0,l.b)();return(0,t.jsxs)("div",{className:"space-y-4 border-t border-neutral-200 ",children:[g&&(0,t.jsx)(d.b,{children:g}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"mx-auto flex flex-col items-center justify-center space-y-4 md:max-w-md",children:[(0,t.jsxs)("div",{className:"items-center",children:[(0,t.jsx)(S(),{src:"/icons/lock-tokens.png",alt:"lock-icon",width:75,height:75}),(0,t.jsx)("p",{className:"text-gray-500",children:i.nz[s.tokenType].subtitleFindToken})]}),(0,t.jsx)(o.II,{type:"text",name:"search",fullWidth:!0,placeholder:(0,i.Ay)(i.nz[s.tokenType].id,s.chainId),onChange:e=>async function(e){try{if(x(!0),s.tokenType===i.LN.PROJECT_TOKEN||s.tokenType===i.LN.REWARD_TOKEN)if((0,F.Ec)(e)){const s=await(0,F.V6)(e,v.provider);console.log("eh valido!",s);const{symbol:t}=s;if((0,y.Pk)(t))return p(!1),void k('You have selected a liquidity token. Please select "Liquidity Tokens" when selecting the token type.');const{decimals:a,name:o}=s,i=await(0,F.db)(e,v.account,v.provider);j(O.bM(i,a)),n({type:r.a.SET_TOKEN_INFO,payload:{tokenInfo:{address:e,symbol:t,decimals:a,name:o,balance:i}}}),t&&a?(p(!0),k(null)):(p(!1),k("Token address is invalid."),h&&n({type:r.a.RESET_TOKEN_INFO}))}else h&&n({type:r.a.RESET_TOKEN_INFO}),p(!1),k("Token address is invalid.");else if(s.tokenType===i.LN.LIQUIDITY_TOKEN)if(B.UJ(e)){const t=await(0,y.Fp)(e,b),a=await(0,y.Q3)(e,b),o=await(0,y.Yc)(e,b),i=await(0,F.db)(e,w,b);j(O.bM(i,a)),n({type:r.a.SET_TOKEN_INFO,payload:{tokenInfo:{address:e,symbol:t,decimals:a,name:o,balance:i}}});let l=[];if((0,y.pV)(s.chainId)||(0,y.Vz)(s.chainId)||(0,y.t2)(s.chainId)||(0,y.it)(s.chainId)||(0,y.KF)(s.chainId)){const n=new E.CH(e,m.tI,b),s=await n.token0(),r=await n.token1(),c=await(0,y.Fp)(s,b),d=await(0,y.Yc)(s,b),u=await(0,y.Fp)(r,b),x=await(0,y.Yc)(r,b);l.push({address:e,symbol:t,decimals:a,name:o,balance:i,token0:{id:s,name:d,symbol:c},token1:{id:r,name:x,symbol:u}})}else{const n=await(0,y._z)(e.toLowerCase(),(0,y.Wh)(s.chainId)),t=Z()(n,"data.as0",[]),a=Z()(n,"data.as1"),o=Z()(n,"data.asAddress",[]),i=ne()([...t,...a,...o],"id");l=await Promise.all($()(i,(async e=>{const n=Z()(e,"id"),[t,a]=await Promise.all([(0,y.Q3)(n,b),(0,y.W0)(n,b)]);return{...JSON.parse(JSON.stringify(e)),decimals:t,totalSupply:a,symbol:(0,y.X_)(s.chainId),name:(0,y.WI)(s.chainId),address:B.Kn(n)}})))}l.length>0&&n({type:r.a.SET_LIQUIDITY_TOKEN_INFO,payload:{liquidityTokenInfo:l[0]}}),p(t&&a),k(0===l.length&&t&&a?"Could not fetch token pair details. But you can still lock the token.":0===l.length?"Token address is invalid.":null)}else h&&n({type:r.a.RESET_TOKEN_INFO}),p(!1),k("Token address is invalid.");else if(s.tokenType===i.LN.NFT_TOKEN){const t=await(0,y.Kj)(e,w,(0,y.jN)(s.chainId));j("1");const a=Z()(t,"data.as0",[]),o=Z()(t,"data.as1"),i=ne()([...a,...o],"id"),l=await Promise.all($()(i,(async e=>({...JSON.parse(JSON.stringify(e)),symbol:"".concat(e.token0.symbol," / ").concat(e.token1.symbol),name:"".concat(e.token0.symbol," / ").concat(e.token1.symbol)}))));l.length>0?(p(!0),n({type:r.a.SET_LIQUIDITY_NFT_INFO,payload:{liquidityNftInfo:l[0]}}),k(null)):(h&&n({type:r.a.RESET_TOKEN_INFO}),p(!1),k("Token address is invalid."))}else console.error("Unsupported token type: ",s.tokenType),k("Unsupported token type.")}catch(t){console.log("err5"),console.error(t),k("Token address is invalid."),c.Tb(t)}finally{x(!1)}}(e.target.value)}),(s.tokenType===i.LN.PROJECT_TOKEN||s.tokenType===i.LN.REWARD_TOKEN)&&s.tokenInfo.symbol&&(0,t.jsxs)("div",{className:"w-full divide-y divide-neutral-200 rounded-md border border-neutral-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Symbol"}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-x-1.5 font-medium",children:[s.tokenInfo.symbol,(0,t.jsx)(o.Oi,{alt:"logo",src:(0,N.XP)(s.tokenInfo.address),className:"h-8 w-8 object-contain",chainId:s.chainId})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Balance"}),(0,t.jsx)("span",{className:"font-medium",children:f})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Decimals"}),(0,t.jsx)("span",{className:"font-medium",children:s.tokenInfo.decimals})]})]}),s.tokenType===i.LN.LIQUIDITY_TOKEN&&s.tokenInfo.symbol&&(0,t.jsxs)("div",{className:"w-full divide-y divide-neutral-200 rounded-md border border-neutral-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Name"}),(0,t.jsx)("span",{className:"font-medium",children:s.liquidityTokenInfo.name})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Pair"}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-x-1.5 font-medium",children:[s.liquidityTokenInfo.token0.symbol," /"," ",s.liquidityTokenInfo.token1.symbol,(0,t.jsxs)("div",{className:"flex -space-x-2",children:[(0,t.jsx)(o.Oi,{src:(0,N.XP)(s.liquidityTokenInfo.token0.id),alt:"logo2",className:"h-8 w-8 rounded-full border border-white object-contain",chainId:s.chainId}),(0,t.jsx)(o.Oi,{src:(0,N.XP)(s.liquidityTokenInfo.token1.id),alt:"logo2",className:"h-8 w-8 rounded-full border border-white object-contain",chainId:s.chainId})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Balance"}),(0,t.jsx)("span",{className:"font-medium",children:f})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Decimals"}),(0,t.jsx)("span",{className:"font-medium",children:s.tokenInfo.decimals})]})]}),s.tokenType===i.LN.NFT_TOKEN&&s.liquidityNftInfo.symbol&&(0,t.jsxs)("div",{className:"w-full divide-y divide-neutral-200 rounded-md border border-neutral-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Name"}),(0,t.jsx)("span",{className:"font-medium",children:s.liquidityNftInfo.name})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Pair"}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-x-1.5 font-medium",children:[s.liquidityNftInfo.token0.symbol," /"," ",s.liquidityNftInfo.token1.symbol,(0,t.jsxs)("div",{className:"flex -space-x-2",children:[(0,t.jsx)(o.Oi,{alt:"logo1",src:(0,N.XP)(s.liquidityNftInfo.token0.id),className:"w8 h-8 rounded-full border border-white object-contain",chainId:s.chainId}),(0,t.jsx)(o.Oi,{src:(0,N.XP)(s.liquidityNftInfo.token1.id),alt:"logo2",className:"h-8 w-8 rounded-full border border-white object-contain",chainId:s.chainId})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Balance"}),(0,t.jsx)("span",{className:"font-medium",children:f})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 px-4",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Decimals"}),(0,t.jsx)("span",{className:"font-medium",children:s.tokenInfo.decimals})]})]}),(0,t.jsx)(o.zx,{fullWidth:!0,disabled:!h,isLoading:u,onClick:()=>{window.dataLayer.push({event:"token-found"}),n({type:r.a.HANDLE_NEXT})},children:"Continue"})]})})]})}var te=s(33967);function ae(e){let{dispatch:n,state:s}=e;return(0,t.jsxs)("div",{className:"border-t border-neutral-200 p-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(S(),{src:"/icons/lock-tokens.png",alt:"lock-icon",width:75,height:75})}),(0,t.jsx)("p",{className:"text-gray-500",children:"Select the type of token you would like to create a lock for"})]}),(0,t.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,t.jsxs)(te.E,{className:"space-y-4",value:i.nz[s.tokenType],onChange:e=>function(e){n({type:r.a.SET_TOKEN_TYPE,payload:{tokenType:e.id}})}(e),children:[(0,t.jsx)(te.E.Label,{className:"sr-only",children:"Supported chains"}),(0,t.jsx)("div",{className:H()({"lg:grid-cols-2":!["0x8ae","0x8ad"].includes(s.chainId)&&!["0x19"].includes(s.chainId)},"grid gap-4"),children:i.nz.map((e=>e.validChains.includes(s.chainId)&&(0,t.jsx)(te.E.Option,{value:e,disabled:e.disabled,className:n=>{let{active:s,checked:t}=n;return H()({"ring-2 ring-blue-300":s,"border-blue-600":t,"border-neutral-200":!t,"border-gray-100 text-gray-200":e.disabled},"flex cursor-pointer select-none rounded border bg-white px-4 py-3")},children:n=>{let{active:a,checked:o}=n;return(0,t.jsxs)("div",{className:"inline-flex w-full items-center space-x-4 text-left",children:[!e.disabled&&(0,t.jsx)(S(),{src:(0,i.nM)(s.chainId),width:40,height:40,alt:"Coingecko Logo"}),(0,t.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,t.jsxs)(te.E.Label,{as:"h6",children:[e.title,(0,t.jsx)("p",{className:H()({"border-gray-100 text-gray-200":e.disabled},"font-base text-xs text-gray-500"),children:(0,i.KT)(e.id,s.chainId)})]}),(0,t.jsx)("span",{className:H()({"border-transparent ring-2 ring-blue-300":a,"border-transparent bg-blue-600":o,"bg-white":!o},"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full border border-neutral-300"),"aria-hidden":"true",children:(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-white"})})]})]})}},e.id)))}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(o.zx,{className:"lg:max-w-sm",fullWidth:!0,onClick:()=>{var e;const t=null===(e=s)||void 0===e?void 0:e.tokenType;t&&(window.dataLayer.push({event:"choose-token-type"}),t===i.LN.LIQUIDITY_TOKEN?window.dataLayer.push({event:"new-lock-liquidity-tokens"}):t===i.LN.NFT_TOKEN?window.dataLayer.push({event:"new-lock-liquidity-nfts"}):t===i.LN.PROJECT_TOKEN?window.dataLayer.push({event:"new-lock-project-tokens"}):t===i.LN.NFT_LOCK?window.dataLayer.push({event:"new-lock-regular-nfts"}):t===i.LN.REWARD_TOKEN?window.dataLayer.push({event:"reward-reflection-tokens"}):t===i.LN.REWARD_NFT&&window.dataLayer.push({event:"reward-nft"})),n({type:r.a.HANDLE_NEXT})},children:"Continue"})})]})})]})}const oe=["SELECT_CHAIN","SELECT_TOKEN_TYPE","SELECT_TOKEN","CONFIGURE_LOCK","OUTCOME"];function ie(e){let{activeStep:n,dispatch:s}=e;return(0,t.jsxs)("nav",{className:"flex items-center justify-center","aria-label":"Progress",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["Step ",n+1," of ",oe.length]}),(0,t.jsx)("ol",{className:"ml-6 flex items-center space-x-5",children:oe.map(((e,a)=>(0,t.jsx)("li",{children:(0,t.jsx)("button",{type:"button",className:H()({"bg-blue-600 ring-[0.2rem] hover:bg-blue-800":a===n,"bg-gray-300 ":a>n,"bg-blue-600":a<n},"block h-2.5 w-2.5 rounded-full"),disabled:0===n||4===n||a>=n,onClick:()=>s({type:r.a.GO_TO_STEP,payload:a}),children:(0,t.jsx)("span",{className:"sr-only",children:e})})},e)))})]})}var le;function re(e){let{state:n,dispatch:s}=e;const{appConfluxInfo:c}=(0,l.b)();return(0,a.useEffect)((()=>{c.chainId===n.chainId&&c.account===n.account||s({type:r.a.HANDLE_LAST_STEP,payload:{errorMsg:"Wallet details changed"}})}),[c.chainId,c.account,n.chainId,n.account,s]),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"rounded-xl border border-neutral-200 bg-white",children:[(0,t.jsx)("div",{className:"rounded-t-xl bg-neutral-100 p-4",children:(0,t.jsx)(ie,{activeStep:n.activeStep,dispatch:s})}),n.activeStep===le.SELECT_TOKEN_TYPE&&(0,t.jsx)(ae,{dispatch:s,state:n}),n.activeStep===le.SELECT_TOKEN&&(n.tokenType===i.LN.NFT_LOCK||n.tokenType===i.LN.REWARD_NFT?(0,t.jsx)(Q,{dispatch:s,nftInfo:n.nftInfo}):(0,t.jsx)(se,{dispatch:s,state:n})),n.activeStep===le.CONFIGURE_LOCK&&(n.tokenType===i.LN.NFT_LOCK||n.tokenType===i.LN.REWARD_NFT?(0,t.jsx)(W,{dispatch:s,state:n}):(0,t.jsx)(M,{dispatch:s,state:n})),n.activeStep===le.OUTCOME&&(0,t.jsx)(X,{dispatch:s,state:n})]}),(0,t.jsx)("div",{className:"pt-5 text-center",children:(0,t.jsxs)("p",{className:"text-md",children:["By locking tokens into this smart contract you agree to our"," ",(0,t.jsx)(o.EX,{className:"text-blue-600 hover:underline",href:"/terms",children:"Terms and Conditions"}),"."]})})]})}!function(e){e[e.SELECT_CHAIN=0]="SELECT_CHAIN",e[e.SELECT_TOKEN_TYPE=1]="SELECT_TOKEN_TYPE",e[e.SELECT_TOKEN=2]="SELECT_TOKEN",e[e.CONFIGURE_LOCK=3]="CONFIGURE_LOCK",e[e.OUTCOME=4]="OUTCOME"}(le||(le={}))},25224:function(e,n,s){var t;s.d(n,{a:function(){return t}}),function(e){e.HANDLE_NEXT="handleNext",e.HANDLE_BACK="handleBack",e.HANDLE_LAST_STEP="handleLastStep",e.HANDLE_START_OVER="handleStartOver",e.SET_OUTCOME="setOutcome",e.SET_TOKEN_INFO="setTokenInfo",e.SET_APPROVED="setApproved",e.SET_TOKEN_TYPE="setTokenType",e.SET_LIQUIDITY_TOKEN_INFO="setLiquidityTokenInfo",e.SET_LIQUIDITY_NFT_INFO="setLiquidityNftInfo",e.SET_TRANSACTION_HASH="setTransactionHash",e.SET_CHAIN_ID="setChainId",e.SET_REQUESTING_LOCK="setRequestingLock",e.SET_NFT_INFO="setNftInfo",e.RESET_TOKEN_INFO="resetTokenInfo",e.SET_VISIBLE_MODAL_WAITING_CONFIRM="setVisibleModalWaitingConfirm",e.SET_VISIBLE_MODAL_VIEW_ETHERSCAN="setVisibleModalViewEtherscan",e.GO_TO_STEP="goToStep"}(t||(t={}))},79943:function(e,n,s){s.d(n,{MV:function(){return k},oT:function(){return g},VM:function(){return b},Do:function(){return w.Z}});var t=s(52322),a=s(33967),o=s(92642),i=s(33902),l=s(5859),r=s(13955),c=s(53080),d=s(89616),u=s(18998),x=s(53003),m=s(72779),h=s.n(m),p=s(96577),f=s.n(p),N=s(2784),y=s(77245),T=s(75100),j=s(25224);function g(e){let{title:n,subtitle:s,dispatch:m,chainSelectorType:p}=e;const[g,k]=(0,N.useState)(r.Z[0]),[b,w]=(0,N.useState)(!1),[v,I]=(0,N.useState)(!0),{library:E,connector:O}=(0,x.Ge)(),{appConfluxInfo:_}=(0,l.b)();return(0,N.useEffect)((()=>{if(!_.chainId)return;const e=r.Z.find((e=>e.chainIds.includes(_.chainId)));k(e)}),[_.chainId]),(0,N.useEffect)((()=>{const e=setTimeout((()=>{I(!1)}),1500);return()=>clearTimeout(e)}),[]),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Z,{open:b,setOpen:()=>w(!1)}),v&&(0,t.jsxs)("div",{className:"rounded-xl border border-neutral-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center rounded-t-xl border-b border-neutral-200 bg-neutral-100 p-4 text-lg font-medium",children:[(0,t.jsx)(T.Dx2,{className:"mr-1.5"}),n]}),(0,t.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,t.jsx)(y.sOR,{className:"mr-2 h-24 w-24 animate-spin text-blue-700 hover:text-neutral-700","aria-hidden":"true"})})]}),!_.account&&!v&&(0,t.jsxs)("div",{className:"rounded-xl border border-neutral-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center rounded-t-xl bg-neutral-100 p-4 text-lg font-medium",children:[(0,t.jsx)(T.Dx2,{className:"mr-1.5"}),n]}),(0,t.jsx)("div",{className:"border-b border-neutral-200"}),(0,t.jsxs)("div",{className:"py-4 text-center",children:[(0,t.jsx)("div",{className:"py-4",children:(0,t.jsx)(f(),{src:"/illustrations/my-locks.png",alt:"locks-img",width:150,height:175})}),(0,t.jsxs)("p",{className:"text-gray-500",children:["Connect your wallet to start the"," ","token"===p?"locking":"vesting"," process."]}),(0,t.jsx)("div",{className:"py-6 px-4 text-center md:py-4",children:(0,t.jsx)(d.zx,{className:"md:max-w-sm",fullWidth:!0,onClick:()=>{w(!0)},children:"Connect Wallet"})})]})]}),_.account&&!v&&(0,t.jsxs)("div",{className:"rounded-xl border border-neutral-200 bg-white",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center rounded-t-xl bg-neutral-100 p-4 text-lg font-medium",children:[(0,t.jsx)(T.Dx2,{className:"mr-1.5"}),n]}),(0,t.jsx)("div",{className:"border-b border-neutral-200"}),(0,t.jsxs)("div",{className:"py-4 text-center",children:[(0,t.jsx)(f(),{src:"/icons/lock-tokens.png",alt:"lock-icon",width:75,height:75}),(0,t.jsx)("p",{className:"text-gray-500",children:s})]}),(0,t.jsxs)(a.E,{value:g,onChange:e=>function(e){try{_.account&&E&&_.chainId&&O&&(0,c.Z)(e.chainIds[0],O,E)}catch(n){console.log("err1"),console.error(n),o.Tb(n)}}(e),children:[(0,t.jsx)(a.E.Label,{className:"sr-only",children:"Supported chains"}),(0,t.jsx)("div",{className:"grid gap-4 px-4 text-center md:grid-cols-2 lg:grid-cols-3",children:r.Z.map((e=>(0,t.jsx)(a.E.Option,{disabled:!_.account,value:e,className:e=>{let{active:n,checked:s}=e;return h()({"ring-2 ring-blue-300":n,"border-blue-600":s,"border-neutral-300":!s,"hover:cursor-not-allowed":!_.account},"flex cursor-pointer select-none rounded border bg-white px-4 py-3")},children:n=>{let{active:s,checked:o}=n;return(0,t.jsxs)("div",{className:"inline-flex w-full items-center space-x-4 text-left",children:[(0,t.jsx)(f(),{src:e.icon,alt:e.name,width:40,height:40}),(0,t.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,t.jsxs)(a.E.Label,{as:"h6",children:[e.name,(0,t.jsxs)("p",{className:"font-base text-xs text-gray-500",children:["Choose if your token is built on ",e.shortcut]})]}),(0,t.jsx)("span",{className:h()({"border-transparent ring-2 ring-blue-300":s,"border-transparent bg-blue-600":o,"bg-white":!o},"mt-0.5 flex h-6 w-6 shrink-0 items-center justify-center rounded-full border border-neutral-300"),"aria-hidden":"true",children:(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-white"})})]})]})}},e.id)))})]}),(0,t.jsx)("div",{className:"py-6 px-4 text-center md:py-4",children:(0,t.jsx)(d.zx,{className:"md:max-w-sm",fullWidth:!0,onClick:()=>{_.account?(m({type:j.a.SET_CHAIN_ID,payload:{chainId:_.chainId,account:_.account}}),"token"===p?(window.dataLayer.push({event:"choose-blockchain"}),window.dataLayer.push({event:"chain-".concat((0,u.r)(_.chainId))})):"vesting"===p&&window.dataLayer.push({event:"Choose-blockchain-vesting"})):w(!0)},children:_.account?"Continue":"Connect Wallet"})})]}),(0,t.jsx)("div",{className:"pt-5 text-center",children:(0,t.jsxs)("p",{className:"text-md",children:["By locking tokens into this smart contract you agree to our"," ",(0,t.jsx)(d.EX,{className:"text-blue-600 hover:underline",href:"/terms",children:"Terms and Conditions"}),"."]})})]})}function k(){return(0,t.jsxs)("div",{className:"bg-waves flex flex-col justify-between space-y-6 rounded-xl bg-cover p-10 shadow-lg lg:flex-row lg:items-center lg:space-y-0",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"text-2xl font-medium text-white",children:"Safe and Secure Token Locking"}),(0,t.jsx)("p",{className:"text-white/90",children:"Team Finance\u2019s smart contracts are simple, safe and audited."})]}),(0,t.jsxs)("div",{className:"space-x-1 sm:space-x-3",children:[(0,t.jsx)(d.EX,{href:"https://github.com/trustswap/audits",children:(0,t.jsx)(d.zx,{variant:"secondary",children:"View Audit"})}),(0,t.jsx)(d.EX,{href:"https://docs.team.finance/",children:(0,t.jsx)(d.zx,{className:"sm:mt:0 mt-1",variant:"outline",children:"Learn More"})})]})]})}function b(){return(0,t.jsxs)("div",{className:"space-y-4 text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-medium text-blue-600",children:"Create your own custom token lock instantly"}),(0,t.jsx)("p",{className:"sm:text-lg",children:"All tokens are locked into our audited smart contract and can only be withdrawn by you after lock time expires."})]})}var w=s(64956)},90654:function(e,n,s){s.d(n,{Z:function(){return i}});var t=s(52322),a=(s(2784),s(37726)),o=s.n(a);function i(e){let{unlockTime:n,setUnlockTime:s,disabled:a}=e;return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(o(),{popperClassName:"react-datepicker-popper-time",selected:n,onChange:e=>s(e),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:30,timeCaption:"Time",dateFormat:"h:mm aa",disabled:a})})}},95193:function(e,n,s){s.d(n,{Ay:function(){return i},KT:function(){return o},LN:function(){return t},nM:function(){return l},nz:function(){return a}});const t={LIQUIDITY_TOKEN:0,NFT_TOKEN:1,PROJECT_TOKEN:2,NFT_LOCK:3,REWARD_TOKEN:4,REWARD_NFT:5},a=[{id:t.LIQUIDITY_TOKEN,title:"Liquidity Tokens",icon:"/icons/wizard/ethereum.svg",subtitleFindToken:"Enter the pair address you would like to lock liquidity for",disabled:!1,validChains:["0x5","0x89","0x38","0x61","0x6a","0x80","0xfa"]},{id:t.NFT_TOKEN,title:"Liquidity NFTs",icon:"/icons/wizard/ethereum.svg",subtitleFindToken:"Enter the token id you would like to lock for",disabled:!1,validChains:["0x5","0x89"]},{id:t.PROJECT_TOKEN,title:"Project Tokens",icon:"/icons/wizard/ethereum.svg",subtitleFindToken:"Enter the token address you would like to lock for",disabled:!1,validChains:["0x1","0x5","0x89","0xa86a","0x38","0x61","0x8ae","0x8ad","0x6a","0x80","0xfa","0x19","0x405"]},{id:t.NFT_LOCK,title:"Regular NFTs",icon:"/icons/wizard/ethereum.svg",subtitleFindToken:"Enter the NFT url you would like to lock for",disabled:!1,validChains:["0x5","0x89","0xa86a","0x38","0x61"]}],o=(e,n)=>e===t.LIQUIDITY_TOKEN?["0x38","0x61"].includes(n)?"CAKE-LP Tokens generated from Pancakeswap Pool":["0x89"].includes(n)?"QUICK-LP Tokens generated from Quickswap Pool":["0xa86a"].includes(n)?"Regular AVAX Project Tokens":["0x8ae","0x8ad"].includes(n)?"Regular Kava Project Tokens":["0x6a"].includes(n)?"Wagyu Tokens generated from WagyuSwap Pool":["0x80"].includes(n)?"HSWAP LP Tokens generated from Hswap Pool":["0xfa"].includes(n)?"SPIRIT-LP LP Tokens generated from SpiritSwap Pool":"UNI-V2 LP Tokens generated from Uniswap Pool":e===t.NFT_TOKEN?"UNI-V3 LP Non-fungible Tokens generated from Uniswap V3 Pools":e===t.PROJECT_TOKEN?["0x38","0x61"].includes(n)?"Regular BEP-20 Project Tokens":["0xa86a"].includes(n)?"Regular AVAX Project Tokens":["0x8ae","0x8ad"].includes(n)?"Regular Kava Project Tokens":["0x6a"].includes(n)?"Regular Velas Project Tokens":["0x80"].includes(n)?"Regular Heco Project Tokens":["0xfa"].includes(n)?"Regular Fantom Project Tokens":["0x19"].includes(n)?"Regular Cronos Project Tokens":["0x405","0x1"].includes(n)?"Regular Conflux Project Tokens":"Regular ERC20 Project Tokens":e===t.REWARD_TOKEN?"Reflection/Reward Project Tokens":e===t.REWARD_NFT?"Reflection/Reward - Non-Fungible Tokens":"Regular - Non-Fungible Tokens",i=(e,n)=>e===t.LIQUIDITY_TOKEN?["0x38","0x61"].includes(n)?"Pancakeswap pair address":["0x89"].includes(n)?"Quickswap pair address":"Uniswap pair address":e===t.NFT_TOKEN?"Uniswap-V3 Liquidity Token ID":e===t.PROJECT_TOKEN||e===t.REWARD_TOKEN?"Token address":"NFT URL",l=e=>["0x38","0x61"].includes(e)?"/icons/wizard/binance.svg":["0xa86a","0xa869"].includes(e)?"/icons/wizard/avax.svg":["0x89","0x13881"].includes(e)?"/icons/wizard/polygon.svg":["0x3ac"].includes(e)?"/icons/wizard/pulsechain.svg":["0x152","0x19"].includes(e)?"/icons/wizard/cronos.svg":["0x100","0x80"].includes(e)?"/icons/wizard/heco.svg":["0x6a","0x6f"].includes(e)?"/icons/wizard/velas.svg":["0xfa","0xfa2"].includes(e)?"/icons/wizard/fantom.svg":["0x8ae","0x8ad"].includes(e)?"/icons/wizard/kava.svg":["0x405","0x1"].includes(e)?"/icons/wizard/conflux.svg":"/icons/wizard/ethereum.svg"}}]);