(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[749],{67345:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lockups/liquidityNftToken",function(){return n(88920)}])},50607:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo-header-liquidity-token.8ca19911.png",height:44,width:156,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAElBMVEUfHxshHhkfISMgPtcTX+QXVue2gdwjAAAABnRSTlMgFComc6tKMxa4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGklEQVR4nGNgYWZkYGBkYGRgZWZgYmJgYgQAAP8AGrqt9MsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}},97470:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo-header-white-liquidity-token.23d5b2bc.png",height:44,width:156,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAD1BMVEX///////////////////+Rd1MVAAAABXRSTlMfFCt0q8HvqbkAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAZSURBVHicBcGBAQAgDMMg0vn/zYITyZvN+gCvABRjt99wAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2}},88920:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ec}});var a,i,s,l,r=n(52322),o=n(31001),d=n(13955),u=n(32867),c=n(2784),p=n(44304),y=n(50607),m=n(97470);(a=s||(s={})).HANDLE_ACCOUNT_DETAILS_CHANGED="handleAccountDetailsChanged",a.HANDLE_NEXT="handleNext",a.HANDLE_LAST_STEP="handleLastStep",a.HANDLE_START_OVER="handleStartOver",a.SET_ERROR_MSG="setErrorMsg",a.SET_OUTCOME="setOutcome",a.SET_APPROVED="setApproved",a.SET_TOKEN_TYPE="setTokenType",a.SET_LIQUIDITY_NFT_INFO="setLiquidityNftInfo",a.SET_TRANSACTION_HASH="setTransactionHash",a.SET_CHAIN_ID="setChainId",a.SET_ACCOUNT="setAccount",a.SET_REQUESTING_LOCK="setRequestingLock",a.SET_NFT_INFO="setNftInfo",a.SET_LOCK_DETAILS="setLockDetails",a.RESET_LIQUIDITY_NFT_INFO="resetLiquidityNftInfo",a.RESET_LOCK_DETAILS="resetLockDetails",a.SET_VISIBLE_MODAL_WAITING_CONFIRM="setVisibleModalWaitingConfirm",a.SET_SHOW_STEP_CONTAINER="setShowStepContainer",a.GO_TO_STEP="goToStep";var f=n(92642),h=n(46539),T=n(30476),x=n(11242),v=n(27662),b=n(25593),w=n(24407),I=n(33018),g=n(28879),k=n.n(g),N=n(57449),S=n.n(N),A=n(67338),_=n.n(A),E=n(10528),D=n(51906),M=n(30171),C=n(59656),j=n(58194),L=n(58105),O=n(57643);function R(e){let{dispatch:t,state:n,index:a,step:i,event:l="db_liquidity_nft_locks_details_added"}=e,[o,d]=(0,c.useState)(!1),[y,m]=(0,c.useState)(E.O$.from(0)),[g,N]=(0,c.useState)(""),[S,A]=(0,c.useState)(new Date(Date.now()+2592e6)),[_,R]=(0,c.useState)(E.O$.from(0)),[q,P]=(0,c.useState)(""),[F,U]=(0,c.useState)((0,u.cH)(n.walletDetails.chainId,(0,w.g)(n.walletDetails.chainId).lockToken)),H=(0,u.yZ)(n.walletDetails.chainId,(0,w.g)(n.walletDetails.chainId).lockToken),[W,Y]=(0,c.useState)(E.O$.from(0)),[G,B]=(0,c.useState)(D.d),[V,X]=(0,c.useState)(!1),[K,Q]=(0,c.useState)(null),[Z,z]=(0,c.useState)(!1),{address:$}=(0,p.mA)(),{data:J}=(0,p.mx)(),{width:ee}=(0,O.iP)(),et=()=>{window.dataLayer.push({event:l}),t({type:s.SET_LOCK_DETAILS,payload:{fee:_,feeInUsd:q,totalAmount:"1",date:S.getTime(),referralAddress:G,referralSupported:F}})},en=(0,c.useCallback)(async()=>{d(!0);try{let e=(0,w.g)(n.walletDetails.chainId),t=(0,L.getAddress)(e.lockToken),a=(0,u.cH)(n.walletDetails.chainId,e.lockToken),i=new M.CH(t,a?b.A:v.c,J),[s,l,r,o]=await Promise.all([i.getFeesInETH((0,u.tg)(n.walletDetails.chainId)),i.feesInUSD(),a?i.referralDiscount():E.O$.from(1e4),!!H&&i.whitelistedWallets($)]);z(o),m(s),R(s),N((0,u.xG)(Number(C.formatUnits(o?0:l,(0,u.pV)(n.walletDetails.chainId)?18:6)))),P((0,u.xG)(Number(C.formatUnits(o?0:l,(0,u.pV)(n.walletDetails.chainId)?18:6)))),U(a),Y(r)}catch(e){console.error(e),t({type:s.SET_ERROR_MSG,payload:{errorMsg:"Couldn't fetch your wallet details. Please try again."}}),f.Tb(e)}finally{d(!1)}},[t,J,n.walletDetails.chainId,$,H]);return(0,c.useEffect)(()=>{$&&J&&n.activeStep===a&&en()},[$,J,en,a,n.activeStep]),(0,r.jsx)("div",{children:n.activeStep===a?(0,r.jsxs)(T.Z,{step:i,errorMsg:n.errorMsg,children:[(0,r.jsx)("p",{className:"my-1 text-xs font-medium text-[#222222]",children:"Lock amount"}),(0,r.jsxs)("div",{className:"flex flex-col sm:max-w-[540px]",children:[(0,r.jsx)(I.II,{className:"w-full text-sm",type:"number",name:"amount",value:1,disabled:!0}),(0,r.jsxs)("div",{className:"mt-1.5 flex items-center",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-[#222222]/60",children:"Your balance: "}),(0,r.jsx)("span",{className:"ml-1 text-sm font-medium text-[#222222]",children:"1"})]}),(0,r.jsxs)("div",{className:"mt-2 w-full",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-[#222222]",children:"Unlock Date"}),(0,r.jsx)(h.Z,{selected:S,setUnlockDate:A,showTimeSelect:ee>420,dateFormat:"MMM dd, yyyy h:mm aa",timeFormat:"h:mm aa",disabled:o})]}),(0,r.jsxs)("div",{className:"my-4 flex justify-between px-0.5 font-medium",children:[(0,r.jsx)("span",{className:"text-[#222222]/60",children:"Service Fee"}),(0,r.jsxs)("span",{className:"text-base",children:["$",Z?0:q]})]}),F&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-0.5",children:[(0,r.jsx)("span",{children:"Do you have a valid Referral Address"}),(0,r.jsx)("input",{name:"referralAddressCheckbox",type:"checkbox",checked:V,onChange:()=>{X(e=>!e),V?(R(y),P(g),B(D.d)):(R(y.mul(W).div(1e4)),P((0,u.xG)(Number(g)*(Number(W)/1e4))))},className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})]}),(0,r.jsx)("span",{className:"px-0.5 text-xs",children:"Receive a 10% discount!"})]}),(0,r.jsxs)("div",{className:"my-2",children:[V&&(0,r.jsx)(I.II,{className:"flex w-full",type:"text",name:"referralAddress",placeholder:"Enter referrer’s wallet address here",disabled:!V,onChange:e=>(function(e){if(""===e){Q("If checkbox is ticked, you must enter a referral address");return}if(e&&!j.isAddress(e)){Q("Please enter a valid address.");return}if(e.toLowerCase()===$.toLowerCase()){Q("You may not use your own address as a referral address.");return}Q(null),B(e)})(e.target.value)}),V&&K&&(0,r.jsx)("span",{className:"text-sm text-red-500",children:K})]})]}),(0,r.jsx)(I.zx,{className:"mt-2 w-full sm:w-auto",disabled:o||!!n.errorMsg||!S||!!K&&V||V&&G===D.d,isLoading:o,onClick:()=>et(),children:"Continue"})]}):(0,r.jsx)(x.Z,{activeStep:n.activeStep,index:a,step:i,goToStep:()=>t({type:s.GO_TO_STEP,payload:a}),children:(0,r.jsx)("p",{className:"text-sm sm:text-base",children:n.lockDetails.date?k()(S).format("MMM. DD, YYYY"):""})})})}k().extend(S()),k().extend(_());var q=n(35175),P=n(2327),F=n(33434);let U=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"},{internalType:"address",name:"_tokenDescriptor_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Collect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"DecreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"IncreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Max",type:"uint128"},{internalType:"uint128",name:"amount1Max",type:"uint128"}],internalType:"struct INonfungiblePositionManager.CollectParams",name:"params",type:"tuple"}],name:"collect",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"}],name:"createAndInitializePoolIfNecessary",outputs:[{internalType:"address",name:"pool",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.DecreaseLiquidityParams",name:"params",type:"tuple"}],name:"decreaseLiquidity",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"positions",outputs:[{internalType:"uint96",name:"nonce",type:"uint96"},{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Owed",type:"uint256"},{internalType:"uint256",name:"amount1Owed",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"uniswapV3MintCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];var H=n(82455),W=n(56780),Y=n(99268),G=n(60740);function B(e){let{dispatch:t,state:n,step:a,index:i,approveEvent:l="db_liquidity_nft_locks_gave_permission",lockEventFailure:o="db_liquidity_nft_locks_fail",lockEventSuccess:d="db_liquidity_nft_locks_success"}=e,[y,m]=(0,c.useState)(!1),[h,T]=(0,c.useState)(!1),[g,N]=(0,c.useState)(!1),[S,A]=(0,c.useState)(!1),[_,D]=(0,c.useState)(""),{address:j}=(0,p.mA)(),{data:O}=(0,p.mx)(),[R,B]=(0,c.useState)(!1),[V,X]=(0,c.useState)(!1),K=(0,c.useCallback)(async()=>{if(n.activeStep===i){m(!0),D("");try{var e;let t=(0,w.g)(n.walletDetails.chainId),a=(0,L.getAddress)(t.lockToken),i=new M.CH(null===(e=n.liquidityNftInfo)||void 0===e?void 0:e.positionContractAddress,U,O),s=await i.getApproved(n.liquidityNftInfo.id),r=s.toLowerCase()===a.toLowerCase();r&&window.dataLayer.push({event:l}),T(r)}catch(e){console.error(e),D("Couldn't fetch your wallet details. Please try again."),f.Tb(e)}finally{m(!1)}}},[l,n.activeStep,n.walletDetails.chainId,n.liquidityNftInfo.id,n.liquidityNftInfo.positionContractAddress,i,O]);async function Q(){try{var e;window.dataLayer.push({event:l}),N(!0),A(!1),X(!0),D("");let t=(0,w.g)(n.walletDetails.chainId),a=t.lockToken,i=new Y.vU(U),s=i.encodeFunctionData("approve",[a,n.liquidityNftInfo.id]),r=await O.getFeeData(),{gasPrice:o}=r,d=null===(e=n.liquidityNftInfo)||void 0===e?void 0:e.positionContractAddress,u=await (0,G.oB)(O,j,d,E.O$.from(0),s,"approve"),c=await O.sendTransaction({value:0,gasPrice:o,data:s,to:d,from:j,gasLimit:u});N(!0),await c.wait(),T(!0),window.dataLayer.push({event:"".concat(l,"-success")})}catch(e){window.dataLayer.push({event:"".concat(l,"-failure")}),console.error(e),T(!1),A(!0),D("Couldn't approve your token. Please try again."),e.message.includes("user rejected transaction")||e.message.includes("transaction was replaced")||f.Tb(e)}finally{m(!1),N(!1)}}async function Z(){D(""),B(!0),t({type:s.SET_REQUESTING_LOCK}),m(!0);try{var e;let a=(0,w.g)(n.walletDetails.chainId),i=k()(n.lockDetails.date).unix();if(Date.now()/1e3>Number(i)){D("Date is in the past."),B(!1);return}let l=a.lockToken,r=await O.getFeeData(),{gasPrice:o}=r,c=null===(e=n.liquidityNftInfo)||void 0===e?void 0:e.positionContractAddress,p=n.lockDetails.referralSupported?b.A:v.c,y=new Y.vU(p),m=[c,j,1,i,n.liquidityNftInfo.id,!1];n.lockDetails.referralSupported&&m.push(n.lockDetails.referralAddress);let f=y.encodeFunctionData("lockNFT",m),h=await (0,G.oB)(O,j,l,E.O$.from(n.lockDetails.fee),f,"lockNFT"),T={value:n.lockDetails.fee,gasPrice:o,data:f,from:j,gasLimit:h,to:l},x=await O.sendTransaction(T);t({type:s.SET_TRANSACTION_HASH,payload:{transactionHash:x.hash}}),await x.wait();let I=new H.XP(l,O),g=await I.depositId();await (0,u.QE)(l,g,n.walletDetails.chainId,(0,u.GW)(n.walletDetails.chainId)),t({type:s.SET_OUTCOME,payload:{success:!0,errorMsg:null}}),window.dataLayer.push({event:d,chain:(0,u.C7)(n.walletDetails.chainId)})}catch(e){window.dataLayer.push({event:o}),console.error(e),e.message.includes("user rejected transaction")||e.message.includes("transaction was replaced")?D("Your lock creation failed. Please try again."):(f.Tb(e),t({type:s.SET_OUTCOME,payload:{success:!1,errorMsg:"Your liquidity NFT lock creation failed."}})),B(!1)}finally{m(!1)}}return(0,c.useEffect)(()=>{O&&j&&K()},[O,j,K]),(0,r.jsxs)("div",{children:[R&&(0,r.jsx)(F.Z,{open:R,setOpen:()=>B(!1),amount:n.lockDetails.totalAmount,symbol:n.liquidityNftInfo.symbol,feeAmount:C.formatEther(n.lockDetails.fee),feeCurrency:(0,u.tl)(n.walletDetails.chainId),isTestnet:(0,u.Jg)(n.walletDetails.chainId)}),V&&(0,r.jsx)(P.Z,{open:V,setOpen:()=>X(!1),isApproving:g,approvalFailed:S,handleApprove:()=>Q(),errorMsg:_}),n.activeStep===i?(0,r.jsxs)("div",{className:"overflow-hidden rounded-md bg-white",children:[_&&(0,r.jsx)(q.b,{children:_}),h&&(0,r.jsxs)("div",{className:"p-3 sm:p-6",children:[(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"Create contract"}),(0,r.jsx)("p",{className:"mt-1 text-sm",children:"Please ensure the following details are correct:"}),(0,r.jsxs)("div",{className:"mt-3 justify-between space-y-4 rounded-lg bg-[#222222]/5 p-3 sm:hidden",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-xs text-[#222222]/60",children:"LP token"}),(0,r.jsxs)("div",{className:"mt-1 inline-flex items-center gap-x-1.5 font-medium",children:[(0,r.jsxs)("div",{className:"flex -space-x-2",children:[(0,r.jsx)(I.Oi,{src:(0,W.XP)(n.liquidityNftInfo.token0.id),alt:"logo2",className:"h-5 w-5 rounded-full border border-white object-contain",chainId:n.walletDetails.chainId}),(0,r.jsx)(I.Oi,{src:(0,W.XP)(n.liquidityNftInfo.token1.id),alt:"logo2",className:"h-5 w-5 rounded-full border border-white object-contain",chainId:n.walletDetails.chainId})]}),(0,r.jsx)("span",{className:"text-base font-normal",children:n.liquidityNftInfo.symbol})]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-xs text-[#222222]/60",children:"Lock amount"}),(0,r.jsx)("span",{className:"mt-2 text-base font-normal",children:n.lockDetails.totalAmount})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-xs text-[#222222]/60",children:"Service fee"}),(0,r.jsxs)("span",{className:"mt-2 text-base font-normal",children:["$",(0,u.Jg)(n.walletDetails.chainId)?"0":n.lockDetails.feeInUsd]})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-xs text-[#222222]/60",children:"Unlock date"}),(0,r.jsx)("span",{className:"mt-2 text-base font-normal",children:k()(n.lockDetails.date).format("MMM. DD, YYYY")})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-xs text-[#222222]/60",children:"Unlock time"}),(0,r.jsx)("span",{className:"mt-2 text-base font-normal",children:k()(n.lockDetails.date).format("hh:mm A z")})]})]}),(0,r.jsx)("div",{className:"my-4 hidden max-w-fit overflow-x-auto rounded-md bg-[#222222]/5 p-6 sm:block",children:(0,r.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"pr-3 text-left text-sm font-normal text-[#222222]/60",children:"LP token"}),(0,r.jsx)("th",{scope:"col",className:"px-3 text-left text-sm font-normal text-[#222222]/60",children:"Lock amount"}),(0,r.jsx)("th",{scope:"col",className:"px-3 text-left text-sm font-normal text-[#222222]/60",children:"Service fee"}),(0,r.jsx)("th",{scope:"col",className:"px-3 text-left text-sm font-normal text-[#222222]/60",children:"Unlock date"}),(0,r.jsx)("th",{scope:"col",className:"pl-3 text-left text-sm font-normal text-[#222222]/60",children:"Unlock time"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"relative flex items-center justify-center whitespace-nowrap pl-0 pr-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:(0,r.jsxs)("div",{className:"inline-flex items-center justify-center gap-x-1.5 font-medium",children:[(0,r.jsxs)("div",{className:"flex -space-x-2",children:[(0,r.jsx)(I.Oi,{src:(0,W.XP)(n.liquidityNftInfo.token0.id),alt:"logo2",className:"h-5 w-5 rounded-full border border-white object-contain",chainId:n.walletDetails.chainId}),(0,r.jsx)(I.Oi,{src:(0,W.XP)(n.liquidityNftInfo.token1.id),alt:"logo2",className:"h-5 w-5 rounded-full border border-white object-contain",chainId:n.walletDetails.chainId})]}),(0,r.jsx)("span",{className:"text-base font-normal",children:n.liquidityNftInfo.symbol})]})}),(0,r.jsx)("td",{className:"relative whitespace-nowrap px-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:n.lockDetails.totalAmount}),(0,r.jsxs)("td",{className:"relative whitespace-nowrap px-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:["$",(0,u.Jg)(n.walletDetails.chainId)?"0":n.lockDetails.feeInUsd]}),(0,r.jsx)("td",{className:"relative whitespace-nowrap px-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:k()(n.lockDetails.date).format("MMM. DD, YYYY")}),(0,r.jsx)("td",{className:"relative whitespace-nowrap px-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:k()(n.lockDetails.date).format("hh:mm A z")})]})})]})})}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(I.zx,{className:"w-full sm:w-auto",disabled:y,onClick:()=>{window.dataLayer.push({event:"db_liquidity_nft_locks_confirm"}),Z()},icon:!1,children:"Confirm transaction"})})]}),!h&&(0,r.jsxs)("div",{className:"p-3 sm:p-6",children:[(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"Create contract"}),(0,r.jsx)("p",{className:"mt-1 text-sm",children:"We need your authorisation before using the LP NFT. This only needs to be done once."}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(I.zx,{className:"w-full sm:w-auto",disabled:y||g,isLoading:g,onClick:()=>Q(),icon:!1,children:"Give permission"})})]})]}):(0,r.jsx)(x.Z,{activeStep:n.activeStep,index:i,step:a,goToStep:()=>t({type:s.GO_TO_STEP,payload:i})})]})}k().extend(S()),k().extend(_());var V=[{question:"How much does it cost? ",answer:"This depends on what chain you’re locking your tokens on. See our pricing page for more details."},{question:"Where will I be able to see my locked tokens?",answer:"You can see and withdraw your tokens inside our admin dashboard. Simply click ‘Launch app’ and connect your wallet to see this dashboard"},{question:"Who are Liquidity Locks for?",answer:"Using a liquidity lock is best practice for any serious crypto project looking to build a community and raise external funding. However, for new projects with teams that don’t have an existing track record in the industry, liquidity locks can be particularly effective in helping gain credibility and trust."},{question:"How long should I lock my liquidity for?",answer:"The longer the better. Locking liquidity for the long term helps signal that you are a serious project committed to building what you have promised."},{question:"How much of my liquidity should I lock?",answer:"If you intend to be the main liquidity provider for a liquidity pool, we recommend locking 80-100% of the total pool value."},{question:"Can I use locking services if I didn’t create my token with Team Finance’s token creator?",answer:"Yes. Our locking contracts are compatible with any token standard on the blockchain networks that we support."},{question:"What’s the difference between Team Token Locks & Liquidity Locks?",answer:"Team Token Locks are specifically for tokens allocated to project team members. With these locks, team members are unable to sell their tokens until the lock expires. They help prevent exit-scams. Liquidity Locks are for liquidity pool (LP) tokens. These are created when a project contributes tokens to a liquidity pool on a decentralised exchange. They help prevent rug pulls."}];(i=l||(l={}))[i.SELECT_WALLET=0]="SELECT_WALLET",i[i.SELECT_CHAIN=1]="SELECT_CHAIN",i[i.SELECT_TOKEN=2]="SELECT_TOKEN",i[i.CONFIGURE_LOCK=3]="CONFIGURE_LOCK",i[i.DEPLOY_CONTRACT=4]="DEPLOY_CONTRACT",i[i.OUTCOME=5]="OUTCOME";let X={activeStep:l.SELECT_WALLET,walletDetails:{chainId:"",account:"",errorMsg:""},liquidityNftInfo:{id:"",name:"",symbol:"",token0:{id:"",name:"",symbol:""},token1:{id:"",name:"",symbol:""},errorMsg:"",totalAmount:1},lockDetails:{date:"",totalAmount:"",fee:"",feeInUsd:""},approved:!1,success:!1,transactionHash:"",errorMsg:"",requesting:!1,showWaitingConfirmModal:!1,showWaitingScreen:!1,showOutcomeScreen:!1,showStepContainer:!0};function K(e,t){switch(t.type){case"handleNext":return{...e,activeStep:e.activeStep+1,errorMsg:""};case"goToStep":return{...e,activeStep:t.payload};case"handleLastStep":return{...e,activeStep:l.OUTCOME,errorMsg:t.payload.errorMsg};case"handleStartOver":return{...X};case"handleAccountDetailsChanged":return{...X,walletDetails:{...e.walletDetails,chainId:"",errorMsg:t.payload.errorMsg},errorMsg:t.payload.errorMsg,activeStep:t.payload.activeStep,showStepContainer:!0};case"setErrorMsg":return{...e,errorMsg:t.payload.errorMsg};case"setChainId":if(t.payload.chainId!==e.walletDetails.chainId)return{...e,walletDetails:{...e.walletDetails,chainId:t.payload.chainId},liquidityNftInfo:X.liquidityNftInfo,lockDetails:X.lockDetails,activeStep:e.activeStep+1,errorMsg:""};return{...e,walletDetails:{...e.walletDetails,chainId:t.payload.chainId},activeStep:e.activeStep+1,errorMsg:""};case"setAccount":if(e.walletDetails.account!==t.payload.account)return{...e,walletDetails:{...X.walletDetails,account:t.payload.account},lockDetails:X.lockDetails};return{...e};case"setLiquidityNftInfo":return{...e,liquidityNftInfo:t.payload.liquidityNftInfo,lockDetails:X.lockDetails,errorMsg:""};case"resetLiquidityNftInfo":return{...e,liquidityNftInfo:{...X.liquidityNftInfo,errorMsg:t.payload.errorMsg},errorMsg:t.payload.errorMsg};case"setLockDetails":return{...e,lockDetails:{...e.lockDetails,fee:t.payload.fee,feeInUsd:t.payload.feeInUsd,totalAmount:t.payload.totalAmount,date:t.payload.date,referralAddress:t.payload.referralAddress,referralSupported:t.payload.referralSupported},activeStep:e.activeStep+1};case"resetLockDetails":return{...e,lockDetails:X.lockDetails,errorMsg:""};case"setApproved":return{...e,approved:!0};case"setRequestingLock":return{...e,showWaitingConfirmModal:!0,requesting:!0};case"setVisibleModalWaitingConfirm":return{...e,showWaitingConfirmModal:t.payload};case"setTransactionHash":return{...e,transactionHash:t.payload.transactionHash,showWaitingConfirmModal:!1,showWaitingScreen:!0,showStepContainer:!1,showOutcomeScreen:!1};case"setOutcome":return{...e,success:t.payload.success,errorMsg:t.payload.errorMsg,activeStep:e.activeStep!==l.OUTCOME?e.activeStep+1:e.activeStep,showWaitingConfirmModal:!1,showWaitingScreen:!1,showOutcomeScreen:!0,showStepContainer:!1,requesting:!1};case"setShowStepContainer":return{...e,showWaitingConfirmModal:!1,showWaitingScreen:!1,showOutcomeScreen:!1,showStepContainer:!0};default:throw Error()}}var Q=n(39708),Z=n(68810),z=n(72579),$=n.n(z),J=n(16760),ee=n.n(J),et=n(84636),en=n.n(et),ea=n(75100);function ei(e){var t,n,a,i;let{dispatch:l,state:o,step:d,index:y,event:m="db_liquidity_nft_locks_info_added"}=e,[h,v]=(0,c.useState)(!1),[b,w]=(0,c.useState)("-"),[g,k]=(0,c.useState)(""),[N,S]=(0,c.useState)((0,u.HR)(o.walletDetails.chainId)),[A,_]=(0,c.useState)(N[0]),{address:E}=(0,p.mA)();async function D(e){if(k(e),!A||!e){l({type:s.RESET_LIQUIDITY_NFT_INFO,payload:{errorMsg:"Token ID is invalid."}});return}try{v(!0);let t=await (0,u.Kj)(e,E,null==A?void 0:A.subgraphUrl);w("1");let n=$()(t,"data.as0",[]),a=$()(t,"data.as1"),i=en()([...n,...a],"id");console.log(i);let r=await Promise.all(ee()(i,async e=>({...JSON.parse(JSON.stringify(e)),symbol:"".concat(e.token0.symbol," / ").concat(e.token1.symbol),name:"".concat(e.token0.symbol," / ").concat(e.token1.symbol)})));r.length>0?l({type:s.SET_LIQUIDITY_NFT_INFO,payload:{liquidityNftInfo:{...r[0],positionContractAddress:null==A?void 0:A.nftAddress}}}):l({type:s.RESET_LIQUIDITY_NFT_INFO,payload:{errorMsg:"Token ID is invalid."}})}catch(e){console.error(e),l({type:s.RESET_LIQUIDITY_NFT_INFO,payload:{errorMsg:"Token ID is invalid."}}),f.Tb(e)}finally{v(!1)}}return(0,c.useEffect)(()=>{if(o.walletDetails.errorMsg&&k(""),o.walletDetails.chainId){let e=(0,u.HR)(o.walletDetails.chainId);S(e),_(e[0])}},[o.walletDetails.errorMsg,o.walletDetails.chainId]),(0,r.jsx)("div",{children:o.activeStep===y?(0,r.jsx)(T.Z,{step:d,errorMsg:o.errorMsg,children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)(Q.v,{as:"div",className:"relative inline-block w-full text-left",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"my-1 text-xs font-medium text-neutral-600",children:"Select DEX"}),(0,r.jsxs)(Q.v.Button,{className:"border-dark-700 inline-flex w-full items-center justify-between gap-x-1 sm:w-96 rounded-md border px-3 py-2 hover:bg-gray-200 focus:outline-none disabled:cursor-not-allowed",children:[null!==(i=null==A?void 0:A.name)&&void 0!==i?i:"Select DEX",(0,r.jsx)(ea.ZXJ,{className:"text-[#222222]/60"})]})]}),(0,r.jsx)(Z.u,{as:c.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)(Q.v.Items,{className:"absolute z-40 mt-1 w-full sm:w-96 justify-start rounded border bg-white text-left focus:outline-none",children:(0,r.jsx)("div",{className:"text-left scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 max-h-40 overflow-auto py-1",children:null==N?void 0:N.map((e,t)=>(0,r.jsx)(Q.v.Item,{children:(0,r.jsx)("button",{type:"button",className:"w-full p-2 text-left text-sm transition duration-100 hover:bg-gray-200",onClick:()=>{_(N[t]),D(g)},children:null==e?void 0:e.name})},null==e?void 0:e.name))})})})]}),(0,r.jsx)("p",{className:"my-1 text-xs font-medium text-neutral-600 pt-1",children:"Token ID"}),(0,r.jsx)(I.II,{error:!!o.errorMsg,className:"w-full text-sm sm:w-96",type:"text",name:"id",placeholder:"Enter ID...",onChange:e=>D(e.target.value),value:g}),o.errorMsg&&(0,r.jsx)("p",{className:"my-1 text-xs font-medium text-red-600",children:"Invalid token ID. Please insert a valid token ID."}),o.liquidityNftInfo.symbol&&(0,r.jsxs)("div",{className:"my-4 w-full divide-y divide-neutral-200 rounded-md sm:w-96",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,r.jsx)("span",{className:"text-base text-[#222222]/60",children:"Symbol"}),(0,r.jsxs)("div",{className:"inline-flex items-center gap-x-1.5 font-medium",children:[(0,r.jsxs)("div",{className:"flex -space-x-2",children:[(0,r.jsx)(I.Oi,{src:(0,W.XP)(o.liquidityNftInfo.token0.id),alt:"logo2",className:"h-5 w-5 rounded-full border border-white object-contain",chainId:o.walletDetails.chainId}),(0,r.jsx)(I.Oi,{src:(0,W.XP)(o.liquidityNftInfo.token1.id),alt:"logo2",className:"h-5 w-5 rounded-full border border-white object-contain",chainId:o.walletDetails.chainId})]}),null===(t=o.liquidityNftInfo.token0)||void 0===t?void 0:t.symbol," /"," ",null===(n=o.liquidityNftInfo.token1)||void 0===n?void 0:n.symbol]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,r.jsx)("span",{className:"text-base text-[#222222]/60",children:"Balance"}),(0,r.jsx)("span",{className:"text-base font-medium text-[#222222]",children:b})]})]}),(0,r.jsx)(I.zx,{className:"mt-4 w-full sm:w-fit",disabled:!!o.errorMsg||!o.liquidityNftInfo.id||h,isLoading:h,onClick:()=>{window.dataLayer.push({event:m}),l({type:s.HANDLE_NEXT})},children:"Continue"})]})}):(0,r.jsx)(x.Z,{activeStep:o.activeStep,index:y,step:d,goToStep:()=>l({type:s.GO_TO_STEP,payload:y}),children:(0,r.jsx)("div",{children:o.liquidityNftInfo.symbol&&(0,r.jsxs)("div",{className:"flex items-center gap-x-1.5",children:[(0,r.jsxs)("div",{className:"flex -space-x-2",children:[(0,r.jsx)(I.Oi,{src:(0,W.XP)(o.liquidityNftInfo.token0.id),alt:"logo2",className:"h-5 w-5 rounded-full border border-white object-contain",chainId:o.walletDetails.chainId}),(0,r.jsx)(I.Oi,{src:(0,W.XP)(o.liquidityNftInfo.token1.id),alt:"logo2",className:"h-5 w-5 rounded-full border border-white object-contain",chainId:o.walletDetails.chainId})]}),(0,r.jsx)("p",{className:"text-sm sm:text-base",children:null===(a=o.liquidityNftInfo)||void 0===a?void 0:a.symbol})]})})})})}var es=n(65186),el=[{title:"Connect wallet",description:"Make sure to connect only the wallet that contains the liquidity provider (LP) NFT you would like to lock.",renderLogo:()=>(0,r.jsx)(es.DLc,{className:"h-4 w-4"})},{title:"Select blockchain",description:"Choose the blockchain that the liquidity provider (LP) NFT you are locking is built on.",renderLogo:()=>(0,r.jsx)(es.pNz,{className:"h-4 w-4"})},{title:"Select LP NFT",description:"Enter the LP NFT id or select from the list below.",renderLogo:()=>(0,r.jsx)(es.$l_,{className:"h-4 w-4"})},{title:"Add lock details",description:"Set the amount and time period you would like to lock your liquidity NFT for.",renderLogo:()=>(0,r.jsx)(es.kVv,{className:"h-4 w-4"})},{title:"Create contract",description:"We need your authorisation before using the NFT. This only needs to be done once.",renderLogo:()=>(0,r.jsx)(es.D6S,{className:"h-4 w-4"})}];function er(){let{address:e}=(0,p.mA)(),{chain:t}=(0,p.LN)(),[n,a]=(0,c.useReducer)(K,X),[i,f]=(0,c.useState)(!1),[h,T]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{n.walletDetails.account&&n.activeStep>l.SELECT_WALLET&&e!==n.walletDetails.account&&a({type:s.HANDLE_ACCOUNT_DETAILS_CHANGED,payload:{errorMsg:"Wallet changed. Please select the correct wallet and continue.",activeStep:l.SELECT_WALLET}})},[e,n.walletDetails.account,a,n.activeStep]),(0,c.useEffect)(()=>{n.activeStep>l.SELECT_CHAIN&&(0,u.i6)(null==t?void 0:t.id)!==n.walletDetails.chainId&&a({type:s.HANDLE_ACCOUNT_DETAILS_CHANGED,payload:{errorMsg:"Blockchain changed. Please select the correct blockchain and continue.",activeStep:l.SELECT_CHAIN}})},[t,n.walletDetails.chainId,a,n.activeStep]),(0,c.useEffect)(()=>{(!n.walletDetails.account&&e||n.activeStep===l.SELECT_WALLET)&&a({type:s.SET_ACCOUNT,payload:{account:e}})},[e,n.walletDetails.account,n.activeStep,a]),(0,r.jsxs)("div",{children:[n.showWaitingScreen&&(0,r.jsx)(o.QD,{logoHeader:m.Z,subText:"Token: ".concat(n.liquidityNftInfo.symbol),faqData:V}),n.showOutcomeScreen&&(0,r.jsx)(o.sv,{href:"/",claimHref:"/liquidity-locks",logoHeader:m.Z,chainId:n.walletDetails.chainId,txHash:n.transactionHash,success:n.success,errorMsg:n.errorMsg,startOver:()=>{window.dataLayer.push({event:"db_liquidity_nft_locks_try_again"}),a({type:s.HANDLE_START_OVER,payload:null})},tokenDetailsPageRef:"https://www.team.finance/view-coin/".concat(n.liquidityNftInfo.address,"?name=").concat(n.liquidityNftInfo.name,"&symbol=").concat(n.liquidityNftInfo.symbol,"&chainid=").concat(n.walletDetails.chainId),title:"Your liquidity token lock was deployed successfully!",subTitle:"Let your investors and community know that their tokens are in safe hands. We've prepared a media kit for you to tell them the good news on your website and social media!",buttonText:"Visit liquidity token locks page",eventSuccess:"db_liquidity_nft_locks_visit_page",eventsCertification:"db_liquidity_nft_locks",secureText:"Lock"}),n.showStepContainer&&(0,r.jsxs)(o.o3,{href:"/",logoHeader:y.Z,collapsed:i,setCollapsed:f,collapsedMobile:h,setCollapsedMobile:T,title:"Create liquidity NFT lock",faqData:V,children:[(0,r.jsx)(o.Rg,{state:n,stepDescriptions:el,goToStep:e=>{a({type:s.GO_TO_STEP,payload:e})}}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-1",children:[(0,r.jsx)(o.Rk,{step:el[l.SELECT_WALLET],index:l.SELECT_WALLET,activeStep:n.activeStep,errorMsg:n.errorMsg,event:"db_liquidity_nft_locks_wallet_connected",goToStep:()=>a({type:s.GO_TO_STEP,payload:l.SELECT_WALLET}),handleNext:()=>a({type:s.HANDLE_NEXT,payload:null})}),(0,r.jsx)(o.jP,{step:el[l.SELECT_CHAIN],index:l.SELECT_CHAIN,collapsed:i,activeStep:n.activeStep,errorMsg:n.errorMsg,chainId:n.walletDetails.chainId,availableChains:d.yk,setChainId:e=>{a({type:s.SET_CHAIN_ID,payload:{chainId:e}}),window.dataLayer.push({event:"db_liquidity_nft_locks_chain_selected",chain:(0,u.C7)(e)})},goToStep:()=>a({type:s.GO_TO_STEP,payload:l.SELECT_CHAIN})}),(0,r.jsx)(ei,{dispatch:a,state:n,step:el[l.SELECT_TOKEN],index:l.SELECT_TOKEN,event:"db_liquidity_nft_locks_info_added"}),(0,r.jsx)(R,{dispatch:a,state:n,step:el[l.CONFIGURE_LOCK],index:l.CONFIGURE_LOCK,event:"db_liquidity_nft_locks_details_added"}),(0,r.jsx)(B,{dispatch:a,state:n,step:el[l.DEPLOY_CONTRACT],index:l.DEPLOY_CONTRACT,approveEvent:"db_liquidity_nft_locks_gave_permission",lockEventFailure:"db_liquidity_nft_locks_fail",lockEventSuccess:"db_liquidity_nft_locks_success"})]})]})]})}var eo=n(97729),ed=n.n(eo),eu=n(55351);function ec(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eu.PB,{title:"Team Finance App - Create Uniswap V3 LP Token Locks",titleTemplate:"%s"}),(0,r.jsx)(ed(),{children:(0,r.jsx)("link",{rel:"canonical",href:"https://app.team.finance/lockups/liquidityNftToken"})}),(0,r.jsx)(er,{})]})}},39708:function(e,t,n){"use strict";n.d(t,{v:function(){return q}});var a,i,s,l=n(2784),r=n(3703),o=n(90544),d=n(6173),u=n(58314),c=n(88064),p=n(33401),y=n(80586),m=n(99108),f=n(13199),h=n(15426),T=n(52929),x=n(32994),v=n(68685),b=n(47215),w=n(37352),I=n(70592),g=n(55559),k=n(82121),N=n(92965),S=((a=S||{})[a.Open=0]="Open",a[a.Closed=1]="Closed",a),A=((i=A||{})[i.Pointer=0]="Pointer",i[i.Other=1]="Other",i),_=((s=_||{})[s.OpenMenu=0]="OpenMenu",s[s.CloseMenu=1]="CloseMenu",s[s.GoToItem=2]="GoToItem",s[s.Search=3]="Search",s[s.ClearSearch=4]="ClearSearch",s[s.RegisterItem=5]="RegisterItem",s[s.UnregisterItem=6]="UnregisterItem",s);function E(e,t=e=>e){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,a=(0,T.z2)(t(e.items.slice()),e=>e.dataRef.current.domRef.current),i=n?a.indexOf(n):null;return -1===i&&(i=null),{items:a,activeItemIndex:i}}let D={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,__demoMode:!1,menuState:0},2:(e,t)=>{var n;let a=E(e),i=(0,f.d)(t,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:i,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,a=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(a))&&!e.dataRef.current.disabled}),s=i?e.items.indexOf(i):-1;return -1===s||s===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:s,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=E(e,e=>[...e,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=E(e,e=>{let n=e.findIndex(e=>e.id===t.id);return -1!==n&&e.splice(n,1),e});return{...e,...n,activationTrigger:1}}},M=(0,l.createContext)(null);function C(e){let t=(0,l.useContext)(M);if(null===t){let t=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,C),t}return t}function j(e,t){return(0,r.E)(t.type,D,e,t)}M.displayName="MenuContext";let L=l.Fragment,O=o.AN.RenderStrategy|o.AN.Static,R=l.Fragment,q=Object.assign((0,o.yV)(function(e,t){let{__demoMode:n=!1,...a}=e,i=(0,l.useReducer)(j,{__demoMode:n,menuState:n?0:1,buttonRef:(0,l.createRef)(),itemsRef:(0,l.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:d,buttonRef:u},c]=i,y=(0,p.T)(t);(0,x.O)([u,d],(e,t)=>{var n;c({type:1}),(0,T.sP)(t,T.tJ.Loose)||(e.preventDefault(),null==(n=u.current)||n.focus())},0===s);let m=(0,g.z)(()=>{c({type:1})}),f=(0,l.useMemo)(()=>({open:0===s,close:m}),[s,m]);return l.createElement(M.Provider,{value:i},l.createElement(b.up,{value:(0,r.E)(s,{0:b.ZM.Open,1:b.ZM.Closed})},(0,o.sY)({ourProps:{ref:y},theirProps:a,slot:f,defaultTag:L,name:"Menu"})))}),{Button:(0,o.yV)(function(e,t){var n;let a=(0,y.M)(),{id:i=`headlessui-menu-button-${a}`,...s}=e,[r,d]=C("Menu.Button"),c=(0,p.T)(r.buttonRef,t),T=(0,u.G)(),x=(0,g.z)(e=>{switch(e.key){case m.R.Space:case m.R.Enter:case m.R.ArrowDown:e.preventDefault(),e.stopPropagation(),d({type:0}),T.nextFrame(()=>d({type:2,focus:f.T.First}));break;case m.R.ArrowUp:e.preventDefault(),e.stopPropagation(),d({type:0}),T.nextFrame(()=>d({type:2,focus:f.T.Last}))}}),v=(0,g.z)(e=>{e.key===m.R.Space&&e.preventDefault()}),b=(0,g.z)(t=>{if((0,h.P)(t.currentTarget))return t.preventDefault();e.disabled||(0===r.menuState?(d({type:1}),T.nextFrame(()=>{var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(t.preventDefault(),d({type:0})))}),I=(0,l.useMemo)(()=>({open:0===r.menuState}),[r]),k={ref:c,id:i,type:(0,w.f)(e,r.buttonRef),"aria-haspopup":"menu","aria-controls":null==(n=r.itemsRef.current)?void 0:n.id,"aria-expanded":e.disabled?void 0:0===r.menuState,onKeyDown:x,onKeyUp:v,onClick:b};return(0,o.sY)({ourProps:k,theirProps:s,slot:I,defaultTag:"button",name:"Menu.Button"})}),Items:(0,o.yV)(function(e,t){var n,a;let i=(0,y.M)(),{id:s=`headlessui-menu-items-${i}`,...r}=e,[c,h]=C("Menu.Items"),x=(0,p.T)(c.itemsRef,t),w=(0,I.i)(c.itemsRef),k=(0,u.G)(),N=(0,b.oJ)(),S=null!==N?(N&b.ZM.Open)===b.ZM.Open:0===c.menuState;(0,l.useEffect)(()=>{let e=c.itemsRef.current;e&&0===c.menuState&&e!==(null==w?void 0:w.activeElement)&&e.focus({preventScroll:!0})},[c.menuState,c.itemsRef,w]),(0,v.B)({container:c.itemsRef.current,enabled:0===c.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let A=(0,g.z)(e=>{var t,n;switch(k.dispose(),e.key){case m.R.Space:if(""!==c.searchQuery)return e.preventDefault(),e.stopPropagation(),h({type:3,value:e.key});case m.R.Enter:if(e.preventDefault(),e.stopPropagation(),h({type:1}),null!==c.activeItemIndex){let{dataRef:e}=c.items[c.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}(0,T.wI)(c.buttonRef.current);break;case m.R.ArrowDown:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:f.T.Next});case m.R.ArrowUp:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:f.T.Previous});case m.R.Home:case m.R.PageUp:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:f.T.First});case m.R.End:case m.R.PageDown:return e.preventDefault(),e.stopPropagation(),h({type:2,focus:f.T.Last});case m.R.Escape:e.preventDefault(),e.stopPropagation(),h({type:1}),(0,d.k)().nextFrame(()=>{var e;return null==(e=c.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case m.R.Tab:e.preventDefault(),e.stopPropagation(),h({type:1}),(0,d.k)().nextFrame(()=>{(0,T.EO)(c.buttonRef.current,e.shiftKey?T.TO.Previous:T.TO.Next)});break;default:1===e.key.length&&(h({type:3,value:e.key}),k.setTimeout(()=>h({type:4}),350))}}),_=(0,g.z)(e=>{e.key===m.R.Space&&e.preventDefault()}),E=(0,l.useMemo)(()=>({open:0===c.menuState}),[c]),D={"aria-activedescendant":null===c.activeItemIndex||null==(n=c.items[c.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(a=c.buttonRef.current)?void 0:a.id,id:s,onKeyDown:A,onKeyUp:_,role:"menu",tabIndex:0,ref:x};return(0,o.sY)({ourProps:D,theirProps:r,slot:E,defaultTag:"div",features:O,visible:S,name:"Menu.Items"})}),Item:(0,o.yV)(function(e,t){let n=(0,y.M)(),{id:a=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=e,[r,u]=C("Menu.Item"),m=null!==r.activeItemIndex&&r.items[r.activeItemIndex].id===a,h=(0,l.useRef)(null),x=(0,p.T)(t,h);(0,c.e)(()=>{if(r.__demoMode||0!==r.menuState||!m||0===r.activationTrigger)return;let e=(0,d.k)();return e.requestAnimationFrame(()=>{var e,t;null==(t=null==(e=h.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}),e.dispose},[r.__demoMode,h,m,r.menuState,r.activationTrigger,r.activeItemIndex]);let v=(0,N.x)(h),b=(0,l.useRef)({disabled:i,domRef:h,get textValue(){return v()}});(0,c.e)(()=>{b.current.disabled=i},[b,i]),(0,c.e)(()=>(u({type:5,id:a,dataRef:b}),()=>u({type:6,id:a})),[b,a]);let w=(0,g.z)(()=>{u({type:1})}),I=(0,g.z)(e=>{if(i)return e.preventDefault();u({type:1}),(0,T.wI)(r.buttonRef.current)}),S=(0,g.z)(()=>{if(i)return u({type:2,focus:f.T.Nothing});u({type:2,focus:f.T.Specific,id:a})}),A=(0,k.g)(),_=(0,g.z)(e=>A.update(e)),E=(0,g.z)(e=>{A.wasMoved(e)&&(i||m||u({type:2,focus:f.T.Specific,id:a,trigger:0}))}),D=(0,g.z)(e=>{A.wasMoved(e)&&(i||m&&u({type:2,focus:f.T.Nothing}))}),M=(0,l.useMemo)(()=>({active:m,disabled:i,close:w}),[m,i,w]);return(0,o.sY)({ourProps:{id:a,ref:x,role:"menuitem",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,disabled:void 0,onClick:I,onFocus:S,onPointerEnter:_,onMouseEnter:_,onPointerMove:E,onMouseMove:E,onPointerLeave:D,onMouseLeave:D},theirProps:s,slot:M,defaultTag:R,name:"Menu.Item"})})})},92965:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});var a=n(2784);let i=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function s(e){var t,n;let a=null!=(t=e.innerText)?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return a;let l=!1;for(let e of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))e.remove(),l=!0;let r=l?null!=(n=s.innerText)?n:"":a;return i.test(r)&&(r=r.replace(i,"")),r}var l=n(55559);function r(e){let t=(0,a.useRef)(""),n=(0,a.useRef)("");return(0,l.z)(()=>{let a=e.current;if(!a)return"";let i=a.innerText;if(t.current===i)return n.current;let l=(function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map(e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():s(t).trim()}return null}).filter(Boolean);if(e.length>0)return e.join(", ")}return s(e).trim()})(a).trim().toLowerCase();return t.current=i,n.current=l,l})}}},function(e){e.O(0,[424,131,713,789,195,149,185,642,686,286,887,565,1,38,774,888,179],function(){return e(e.s=67345)}),_N_E=e.O()}]);