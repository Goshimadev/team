(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[743],{28879:function(e){var t,a,s,n,r,o,i,l,c,d,u,h,m,p,f,x,w,k,y,g,S;e.exports=(t="millisecond",a="second",s="minute",n="hour",r="week",o="month",i="quarter",l="year",c="date",d="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=function(e,t,a){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(a)+e},(f={})[p="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||"th")+"]"}},x=function(e){return e instanceof g},w=function e(t,a,s){var n;if(!t)return p;if("string"==typeof t){var r=t.toLowerCase();f[r]&&(n=r),a&&(f[r]=a,n=r);var o=t.split("-");if(!n&&o.length>1)return e(o[0])}else{var i=t.name;f[i]=t,n=i}return!s&&n&&(p=n),n||!s&&p},k=function(e,t){if(x(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new g(a)},(y={s:m,z:function(e){var t=-e.utcOffset(),a=Math.abs(t);return(t<=0?"+":"-")+m(Math.floor(a/60),2,"0")+":"+m(a%60,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var s=12*(a.year()-t.year())+(a.month()-t.month()),n=t.clone().add(s,o),r=a-n<0,i=t.clone().add(s+(r?-1:1),o);return+(-(s+(a-n)/(r?n-i:i-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return({M:o,y:l,w:r,d:"day",D:c,h:n,m:s,s:a,ms:t,Q:i})[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}}).l=w,y.i=x,y.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},S=(g=function(){function e(e){this.$L=w(e.locale,null,!0),this.parse(e)}var m=e.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var s=t.match(u);if(s){var n=s[2]-1||0,r=(s[7]||"0").substring(0,3);return a?new Date(Date.UTC(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)):new Date(s[1],n,s[3]||1,s[4]||0,s[5]||0,s[6]||0,r)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return y},m.isValid=function(){return this.$d.toString()!==d},m.isSame=function(e,t){var a=k(e);return this.startOf(t)<=a&&a<=this.endOf(t)},m.isAfter=function(e,t){return k(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<k(e)},m.$g=function(e,t,a){return y.u(e)?this[t]:this.set(a,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var i=this,d=!!y.u(t)||t,u=y.p(e),h=function(e,t){var a=y.w(i.$u?Date.UTC(i.$y,t,e):new Date(i.$y,t,e),i);return d?a:a.endOf("day")},m=function(e,t){return y.w(i.toDate()[e].apply(i.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),i)},p=this.$W,f=this.$M,x=this.$D,w="set"+(this.$u?"UTC":"");switch(u){case l:return d?h(1,0):h(31,11);case o:return d?h(1,f):h(0,f+1);case r:var k=this.$locale().weekStart||0,g=(p<k?p+7:p)-k;return h(d?x-g:x+(6-g),f);case"day":case c:return m(w+"Hours",0);case n:return m(w+"Minutes",1);case s:return m(w+"Seconds",2);case a:return m(w+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,r){var i,d=y.p(e),u="set"+(this.$u?"UTC":""),h=((i={}).day=u+"Date",i[c]=u+"Date",i[o]=u+"Month",i[l]=u+"FullYear",i[n]=u+"Hours",i[s]=u+"Minutes",i[a]=u+"Seconds",i[t]=u+"Milliseconds",i)[d],m="day"===d?this.$D+(r-this.$W):r;if(d===o||d===l){var p=this.clone().set(c,1);p.$d[h](m),p.init(),this.$d=p.set(c,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[y.p(e)]()},m.add=function(e,t){var i,c=this;e=Number(e);var d=y.p(t),u=function(t){var a=k(c);return y.w(a.date(a.date()+Math.round(t*e)),c)};if(d===o)return this.set(o,this.$M+e);if(d===l)return this.set(l,this.$y+e);if("day"===d)return u(1);if(d===r)return u(7);var h=((i={})[s]=6e4,i[n]=36e5,i[a]=1e3,i)[d]||1,m=this.$d.getTime()+e*h;return y.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||d;var s=e||"YYYY-MM-DDTHH:mm:ssZ",n=y.z(this),r=this.$H,o=this.$m,i=this.$M,l=a.weekdays,c=a.months,u=a.meridiem,m=function(e,a,n,r){return e&&(e[a]||e(t,s))||n[a].slice(0,r)},p=function(e){return y.s(r%12||12,e,"0")},f=u||function(e,t,a){var s=e<12?"AM":"PM";return a?s.toLowerCase():s};return s.replace(h,function(e,s){return s||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return y.s(t.$y,4,"0");case"M":return i+1;case"MM":return y.s(i+1,2,"0");case"MMM":return m(a.monthsShort,i,c,3);case"MMMM":return m(c,i);case"D":return t.$D;case"DD":return y.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return m(a.weekdaysMin,t.$W,l,2);case"ddd":return m(a.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(r);case"HH":return y.s(r,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return f(r,o,!0);case"A":return f(r,o,!1);case"m":return String(o);case"mm":return y.s(o,2,"0");case"s":return String(t.$s);case"ss":return y.s(t.$s,2,"0");case"SSS":return y.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")})},m.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},m.diff=function(e,t,c){var d,u=this,h=y.p(t),m=k(e),p=(m.utcOffset()-this.utcOffset())*6e4,f=this-m,x=function(){return y.m(u,m)};switch(h){case l:d=x()/12;break;case o:d=x();break;case i:d=x()/3;break;case r:d=(f-p)/6048e5;break;case"day":d=(f-p)/864e5;break;case n:d=f/36e5;break;case s:d=f/6e4;break;case a:d=f/1e3;break;default:d=f}return c?d:y.a(d)},m.daysInMonth=function(){return this.endOf(o).$D},m.$locale=function(){return f[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),s=w(e,t,!0);return s&&(a.$L=s),a},m.clone=function(){return y.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},e}()).prototype,k.prototype=S,[["$ms",t],["$s",a],["$m",s],["$H",n],["$W","day"],["$M",o],["$y",l],["$D",c]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),k.extend=function(e,t){return e.$i||(e(t,g,k),e.$i=!0),k},k.locale=w,k.isDayjs=x,k.unix=function(e){return k(1e3*e)},k.en=f[p],k.Ls=f,k.p={},k)},33323:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lockups/projectToken",function(){return a(95668)}])},95668:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ea}});var s,n,r,o,i=a(52322),l=a(31001),c=a(32867),d=a(2784),u=a(44304),h={src:"/_next/static/media/logo-header-project-token.a45e90ec.png",height:44,width:179,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAADFBMVEUgIB4lKl8TXeQZVeiBWARKAAAABHRSTlMcFGqWNA0wTQAAAAlwSFlzAAALEwAACxMBAJqcGAAAABZJREFUeJxjYGJkYGBgYGRkYAYzGBgAAHgACrVRDWgAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},m={src:"/_next/static/media/logo-header-white-project-token.98a33f10.png",height:44,width:179,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAADFBMVEX////////////////1pQ5zAAAABHRSTlMXIGqXt2nKlgAAAAlwSFlzAAALEwAACxMBAJqcGAAAABRJREFUeJxjYGKAAmYGRgZGRkYGAABbAAq2FlQJAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2};(s=r||(r={})).HANDLE_ACCOUNT_DETAILS_CHANGED="handleAccountDetailsChanged",s.HANDLE_NEXT="handleNext",s.HANDLE_LAST_STEP="handleLastStep",s.HANDLE_START_OVER="handleStartOver",s.SET_ERROR_MSG="setErrorMsg",s.SET_OUTCOME="setOutcome",s.SET_TOKEN_INFO="setTokenInfo",s.SET_APPROVED="setApproved",s.SET_TRANSACTION_HASH="setTransactionHash",s.SET_CHAIN_ID="setChainId",s.SET_ACCOUNT="setAccount",s.SET_REQUESTING_LOCK="setRequestingLock",s.SET_LOCK_DETAILS="setLockDetails",s.RESET_TOKEN_INFO="resetTokenInfo",s.RESET_LOCK_DETAILS="resetLockDetails",s.SET_VISIBLE_MODAL_WAITING_CONFIRM="setVisibleModalWaitingConfirm",s.SET_SHOW_STEP_CONTAINER="setShowStepContainer",s.GO_TO_STEP="goToStep";var p=a(92642),f=a(46539),x=a(30476),w=a(11242),k=a(25593),y=a(24407),g=a(33018),S=a(28879),v=a.n(S),A=a(57449),T=a.n(A),_=a(67338),E=a.n(_),D=a(10528),N=a(51906),b=a(30171),I=a(59656),C=a(58194),j=a(58105),M=a(57643),O=a(18650);function L(e){let{dispatch:t,state:a,index:s,step:n,event:o="db_team_locks_details_added"}=e,[l,h]=(0,d.useState)(!1),[m,S]=(0,d.useState)(""),[A,T]=(0,d.useState)(""),[_,E]=(0,d.useState)(D.O$.from(0)),[L,$]=(0,d.useState)(""),[H,R]=(0,d.useState)(new Date(Date.now()+2592e6)),[U,W]=(0,d.useState)(D.O$.from(0)),[Y,P]=(0,d.useState)(D.O$.from(0)),[F,G]=(0,d.useState)(""),[q,K]=(0,d.useState)((0,c.cH)(a.walletDetails.chainId,(0,y.g)(a.walletDetails.chainId).lockToken)),B=(0,c.yZ)(a.walletDetails.chainId,(0,y.g)(a.walletDetails.chainId).lockToken),[V,z]=(0,d.useState)(D.O$.from(0)),[J,Z]=(0,d.useState)(N.d),[X,Q]=(0,d.useState)(!1),[ee,et]=(0,d.useState)(null),[ea,es]=(0,d.useState)(null),[en,er]=(0,d.useState)(!1),{address:eo}=(0,u.mA)(),{width:ei}=(0,M.iP)(),{data:el}=(0,u.mx)(),ec=()=>{window.dataLayer.push({event:o}),t({type:r.SET_LOCK_DETAILS,payload:{fee:Y,feeInUsd:F,totalAmount:m,date:H.getTime(),referralAddress:J,referralSupported:q}})},ed=(0,d.useCallback)(async()=>{h(!0);try{let e=(0,y.g)(a.walletDetails.chainId),t=(0,j.getAddress)(e.lockToken),s=new b.CH(a.tokenInfo.address,O.em,el),n=new b.CH(t,k.A,el),r=(0,c.cH)(a.walletDetails.chainId,e.lockToken),[o,i,l,d,u]=await Promise.all([s.balanceOf(eo),n.getFeesInETH(eo),n.feesInUSD(),r?n.referralDiscount():D.O$.from(1e4),!!B&&n.whitelistedWallets(eo)]);er(u),W(o),T(I.formatUnits(o,a.tokenInfo.decimals)),E(i),P(i),$((0,c.xG)(Number(I.formatUnits(u?0:l,(0,c.pV)(a.walletDetails.chainId)?18:6)))),G((0,c.xG)(Number(I.formatUnits(u?0:l,(0,c.pV)(a.walletDetails.chainId)?18:6)))),K(r),z(d)}catch(e){console.error(e),t({type:r.SET_ERROR_MSG,payload:{errorMsg:"Couldn't fetch your wallet details. Please try again."}}),p.Tb(e)}finally{h(!1)}},[a.walletDetails.chainId,a.tokenInfo.address,a.tokenInfo.decimals,B,eo,el,t]);function eu(e){try{if(Number(e)>0){let t=I.parseUnits(e,a.tokenInfo.decimals);U.lt(D.O$.from(t))?es("Your wallet balance is too low."):es(null)}else es("Invalid amount")}catch(e){console.error(e),es("Invalid amount")}S(e)}return(0,d.useEffect)(()=>{eo&&el&&a.activeStep===s&&ed()},[eo,el,ed,s,a.activeStep]),(0,i.jsx)("div",{children:a.activeStep===s?(0,i.jsxs)(x.Z,{step:n,errorMsg:a.errorMsg,children:[(0,i.jsx)("p",{className:"my-1 text-xs font-medium text-[#222222]",children:"Lock amount"}),(0,i.jsxs)("div",{className:"flex flex-col sm:max-w-[540px]",children:[(0,i.jsx)(g.II,{"data-testid":"lock-amount-input",className:"w-full text-sm",type:"number",name:"amount",placeholder:"Enter amount",value:m,onChange:e=>eu(e.target.value),disabled:l,onKeyPress:e=>{("Slash"===e.code||"Minus"===e.code)&&e.preventDefault()},onPaste:e=>{let{clipboardData:t}=e,a=parseFloat(t.getData("text"));a<0&&e.preventDefault()},error:!!ea}),!!ea&&(0,i.jsx)("span",{className:"mt-1 text-xs font-medium text-red-600",children:ea}),(0,i.jsxs)("div",{className:"mt-1.5 flex items-center",children:[(0,i.jsx)("span",{className:"text-sm font-medium text-[#222222]/60",children:"Your balance: "}),(0,i.jsx)("span",{className:"ml-1 break-all text-sm font-medium text-[#222222]",children:"".concat(A," ").concat(a.tokenInfo.symbol)}),(0,i.jsx)("button",{className:"ml-1 rounded-lg bg-[#4687C3]/10 px-2 py-1 text-[14px] font-semibold text-[#1F4AE9]",type:"button",onClick:()=>eu(A),children:"Max"})]}),(0,i.jsxs)("div",{className:"mt-2 w-full",children:[(0,i.jsx)("span",{className:"text-xs font-medium text-[#222222]",children:"Unlock Date"}),(0,i.jsx)(f.Z,{selected:H,setUnlockDate:R,showTimeSelect:ei>380,dateFormat:"MMM dd, yyyy h:mm aa",timeFormat:"h:mm aa"})]}),(0,i.jsxs)("div",{className:"my-4 flex justify-between px-0.5 font-medium",children:[(0,i.jsx)("span",{className:"text-[#222222]/60",children:"Service Fee"}),(0,i.jsxs)("span",{className:"text-base",children:["$",en?0:F]})]}),q&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between px-0.5",children:[(0,i.jsx)("span",{children:"Do you have a valid Referral Address"}),(0,i.jsx)("input",{name:"referralAddressCheckbox",type:"checkbox",checked:X,onChange:()=>{Q(e=>!e),X?(P(_),G(L),Z(N.d)):(P(_.mul(V).div(1e4)),G((0,c.xG)(Number(L)*(Number(V)/1e4))))},className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})]}),(0,i.jsx)("span",{className:"px-0.5 text-xs",children:"Receive a 10% discount!"})]}),(0,i.jsxs)("div",{className:"my-2",children:[X&&(0,i.jsx)(g.II,{className:"flex w-full",type:"text",name:"referralAddress",placeholder:"Enter referrer’s wallet address here",disabled:!X,onChange:e=>(function(e){if(""===e){et("If checkbox is ticked, you must enter a referral address");return}if(e&&!C.isAddress(e)){et("Please enter a valid address.");return}if(e.toLowerCase()===eo.toLowerCase()){et("You may not use your own address as a referral address.");return}et(null),Z(e)})(e.target.value)}),X&&ee&&(0,i.jsx)("span",{className:"text-sm text-red-500",children:ee})]})]}),(0,i.jsx)(g.zx,{className:"mt-2 w-full sm:w-auto","data-testid":"continue-button",disabled:l||!m||ea||!!a.errorMsg||!H||!!ee&&X||X&&J===N.d,isLoading:l,onClick:()=>ec(),children:"Continue"})]}):(0,i.jsx)(w.Z,{activeStep:a.activeStep,index:s,step:n,goToStep:()=>t({type:r.GO_TO_STEP,payload:s}),children:(0,i.jsx)("p",{className:"text-sm sm:text-base",children:a.lockDetails.date?v()(H).format("MMM. DD, YYYY"):""})})})}v().extend(T()),v().extend(E());var $=a(35175),H=a(2327),R=a(33434),U=a(27662),W=a(82455),Y=a(56780),P=a(90711),F=a(99268),G=a(60740);function q(e){let{dispatch:t,state:a,step:s,index:n,approveEvent:o="db_team_locks_gave_permission",lockEventFailure:l="db_team_locks_fail",lockEventSuccess:h="db_team_locks_success"}=e,[m,f]=(0,d.useState)(!1),[x,S]=(0,d.useState)(!1),[A,T]=(0,d.useState)(!1),[_,E]=(0,d.useState)(!1),[N,C]=(0,d.useState)(""),{address:M}=(0,u.mA)(),{data:O}=(0,u.mx)(),[L,q]=(0,d.useState)(!1),[K,B]=(0,d.useState)(!1),V=(0,d.useCallback)(async()=>{if(a.activeStep===n){f(!0),C("");try{let e=(0,y.g)(a.walletDetails.chainId),t=(0,j.getAddress)(e.lockToken),s=new W.ah(a.tokenInfo.address,O),n=await s.allowance(M,t),r=I.parseUnits(a.lockDetails.totalAmount,a.tokenInfo.decimals),i=n.gte(r);i&&window.dataLayer.push({event:o}),S(i)}catch(e){console.error(e),C("Couldn't fetch your wallet details. Please try again."),p.Tb(e)}finally{f(!1)}}},[a.activeStep,a.walletDetails.chainId,a.tokenInfo.address,a.tokenInfo.decimals,a.lockDetails.totalAmount,n,O,M,o]);async function z(){try{window.dataLayer.push({event:o}),T(!0),E(!1),B(!0),C("");let e=(0,y.g)(a.walletDetails.chainId),t=new W.ah(a.tokenInfo.address,O),s=[e.lockToken,P.Bz],n=await (0,G.QH)(t,s,"approve"),r=await t.approve(...s,{gasLimit:n});await r.wait();let i=(0,j.getAddress)(e.lockToken),l=await t.allowance(M,i),c=I.parseUnits(a.lockDetails.totalAmount,a.tokenInfo.decimals),d=l.gte(c);S(d),d?window.dataLayer.push({event:"".concat(o,"-success")}):(l.isZero()?C("Couldn't approve your token. Please try again."):C("Couldn't approve your token. Allowance too small. Please try again."),E(!0),window.dataLayer.push({event:"".concat(o,"-failure")}))}catch(e){window.dataLayer.push({event:"".concat(o,"-failure")}),console.error(e),S(!1),E(!0),C("Couldn't approve your token. Please try again."),e.message.includes("user rejected transaction")||e.message.includes("transaction was replaced")||p.Tb(e)}finally{f(!1),T(!1)}}async function J(){C(""),q(!0),t({type:r.SET_REQUESTING_LOCK}),f(!0);try{let e=(0,y.g)(a.walletDetails.chainId),s=v()(a.lockDetails.date).unix();if(Date.now()/1e3>Number(s)){C("Date is in the past."),q(!1);return}let n=e.lockToken,o=await O.getFeeData(),{gasPrice:i}=o,l=I.parseUnits(a.lockDetails.totalAmount,a.tokenInfo.decimals);if(a.tokenInfo.balance.lt(D.O$.from(l))){C("Your wallet balance is too low."),q(!1);return}let d=[a.tokenInfo.address,M,l,s,!1];a.lockDetails.referralSupported&&d.push(a.lockDetails.referralAddress);let u=a.lockDetails.referralSupported?k.A:U.c,m=new F.vU(u),p=m.encodeFunctionData("lockToken",d),f=await (0,G.oB)(O,M,n,D.O$.from(a.lockDetails.fee),p,"lockToken"),x={value:a.lockDetails.fee,gasPrice:i,data:p,from:M,gasLimit:f,to:n},w=await O.sendTransaction(x);q(!1),t({type:r.SET_TRANSACTION_HASH,payload:{transactionHash:w.hash}}),await w.wait();let g=new b.CH(n,u,O),S=await g.depositId();try{await (0,c.QE)(n,S,a.walletDetails.chainId,(0,c.GW)(a.walletDetails.chainId))}catch(e){console.log("ERRROR",e)}t({type:r.SET_OUTCOME,payload:{success:!0,errorMsg:null}}),window.dataLayer.push({event:h,chain:(0,c.C7)(a.walletDetails.chainId)})}catch(e){window.dataLayer.push({event:l}),console.error(e),e.message.includes("user rejected transaction")||e.message.includes("transaction was replaced")?C("Your lock creation failed. Please try again."):(p.Tb(e),t({type:r.SET_OUTCOME,payload:{success:!1,errorMsg:"Your token lock creation failed."}})),q(!1)}finally{f(!1)}}return(0,d.useEffect)(()=>{O&&M&&V()},[O,M,V]),(0,i.jsxs)("div",{children:[L&&(0,i.jsx)(R.Z,{open:L,setOpen:()=>q(!1),amount:a.lockDetails.totalAmount,symbol:a.tokenInfo.symbol,feeAmount:I.formatEther(a.lockDetails.fee),feeCurrency:(0,c.tl)(a.walletDetails.chainId),isTestnet:(0,c.Jg)(a.walletDetails.chainId)}),K&&(0,i.jsx)(H.Z,{open:K,setOpen:()=>B(!1),isApproving:A,approvalFailed:_,handleApprove:()=>z(),errorMsg:N}),a.activeStep===n?(0,i.jsxs)("div",{className:"overflow-hidden rounded-md bg-white","data-testid":"error-message",children:[!!N&&(0,i.jsx)($.b,{children:N}),x&&(0,i.jsxs)("div",{className:"p-3 sm:p-6",children:[(0,i.jsx)("h1",{className:"text-lg font-semibold",children:"Create contract"}),(0,i.jsx)("p",{className:"mt-1 text-sm",children:"Please ensure the following details are correct:"}),(0,i.jsxs)("div",{className:"mt-3 justify-between space-y-4 rounded-lg bg-[#222222]/5 p-3 sm:hidden",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:"text-xs text-[#222222]/60",children:"Token"}),(0,i.jsxs)("div",{className:"mt-1 inline-flex items-center gap-x-1.5 font-medium",children:[(0,i.jsx)(g.Oi,{alt:"logo",src:(0,Y.XP)(a.tokenInfo.address),chainId:a.walletDetails.chainId,className:"h-6 w-6 object-contain"}),(0,i.jsx)("span",{className:"text-base font-normal",children:a.tokenInfo.symbol})]})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:"text-xs text-[#222222]/60",children:"Lock amount"}),(0,i.jsx)("span",{className:"mt-2 text-base font-normal",children:a.lockDetails.totalAmount})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:"text-xs text-[#222222]/60",children:"Service fee"}),(0,i.jsxs)("span",{className:"mt-2 text-base font-normal",children:["$",(0,c.Jg)(a.walletDetails.chainId)?"0":a.lockDetails.feeInUsd]})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:"text-xs text-[#222222]/60",children:"Unlock date"}),(0,i.jsx)("span",{className:"mt-2 text-base font-normal",children:v()(a.lockDetails.date).format("MMM. DD, YYYY")})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("span",{className:"text-xs text-[#222222]/60",children:"Unlock time"}),(0,i.jsx)("span",{className:"mt-2 text-base font-normal",children:v()(a.lockDetails.date).format("hh:mm A z")})]})]}),(0,i.jsx)("div",{className:"my-4 hidden max-w-fit overflow-x-auto rounded-md bg-[#222222]/5 p-6 sm:block",children:(0,i.jsx)("div",{className:"inline-block min-w-full align-middle",children:(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"pr-3 text-left text-xs font-normal text-[#222222]/60",children:"Token"}),(0,i.jsx)("th",{scope:"col",className:"px-3 text-left text-xs font-normal text-[#222222]/60",children:"Lock amount"}),(0,i.jsx)("th",{scope:"col",className:"px-3 text-left text-xs font-normal text-[#222222]/60",children:"Service fee"}),(0,i.jsx)("th",{scope:"col",className:"px-3 text-left text-xs font-normal text-[#222222]/60",children:"Unlock date"}),(0,i.jsx)("th",{scope:"col",className:"pl-3 text-left text-xs font-normal text-[#222222]/60",children:"Unlock time"})]})}),(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"relative flex items-center justify-center whitespace-nowrap pl-0 pr-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:(0,i.jsxs)("div",{className:"inline-flex items-center justify-center gap-x-1.5 font-medium",children:[(0,i.jsx)(g.Oi,{alt:"logo",src:(0,Y.XP)(a.tokenInfo.address),chainId:a.walletDetails.chainId,className:"h-6 w-6 object-contain"}),(0,i.jsx)("span",{className:"text-base font-normal",children:a.tokenInfo.symbol})]})}),(0,i.jsx)("td",{className:"relative whitespace-nowrap px-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:a.lockDetails.totalAmount}),(0,i.jsxs)("td",{className:"relative whitespace-nowrap px-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:["$",(0,c.Jg)(a.walletDetails.chainId)?"0":a.lockDetails.feeInUsd]}),(0,i.jsx)("td",{className:"relative whitespace-nowrap px-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:v()(a.lockDetails.date).format("MMM. DD, YYYY")}),(0,i.jsx)("td",{className:"relative whitespace-nowrap px-3 pt-2 text-base font-normal text-[#222222] md:pr-6",children:v()(a.lockDetails.date).format("hh:mm A z")})]})})]})})}),(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)(g.zx,{className:"w-full sm:w-auto",disabled:m,onClick:()=>J(),icon:!1,"data-testid":"confirm-button",children:"Confirm transaction"})})]}),!x&&(0,i.jsxs)("div",{className:"p-3 sm:p-6",children:[(0,i.jsx)("h1",{className:"text-lg font-semibold",children:"Create contract"}),(0,i.jsx)("p",{className:"mt-1 text-sm",children:"We need your authorisation before using the token. This only needs to be done once."}),(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)(g.zx,{className:"w-full sm:w-auto",disabled:m||A,isLoading:A,onClick:()=>z(),icon:!1,children:"Give permission"})})]})]}):(0,i.jsx)(w.Z,{activeStep:a.activeStep,index:n,step:s,goToStep:()=>t({type:r.GO_TO_STEP,payload:n})})]})}v().extend(T()),v().extend(E());var K=[{question:"How much does it cost? ",answer:"This depends on what chain you’re locking your tokens on. See our pricing page for more details."},{question:"Where will I be able to see my locked tokens?",answer:"You can see and withdraw your tokens inside our admin dashboard. Simply click ‘Launch app’ and connect your wallet to see this dashboard"},{question:"Who are Liquidity Locks for?",answer:"Using a liquidity lock is best practice for any serious crypto project looking to build a community and raise external funding. However, for new projects with teams that don’t have an existing track record in the industry, liquidity locks can be particularly effective in helping gain credibility and trust."},{question:"How long should I lock my liquidity for?",answer:"The longer the better. Locking liquidity for the long term helps signal that you are a serious project committed to building what you have promised."},{question:"How much of my liquidity should I lock?",answer:"If you intend to be the main liquidity provider for a liquidity pool, we recommend locking 80-100% of the total pool value."},{question:"Can I use locking services if I didn’t create my token with Team Finance’s token creator?",answer:"Yes. Our locking contracts are compatible with any token standard on the blockchain networks that we support."},{question:"What’s the difference between Team Token Locks & Liquidity Locks?",answer:"Team Token Locks are specifically for tokens allocated to project team members. With these locks, team members are unable to sell their tokens until the lock expires. They help prevent exit-scams. Liquidity Locks are for liquidity pool (LP) tokens. These are created when a project contributes tokens to a liquidity pool on a decentralised exchange. They help prevent rug pulls."}];(n=o||(o={}))[n.SELECT_WALLET=0]="SELECT_WALLET",n[n.SELECT_CHAIN=1]="SELECT_CHAIN",n[n.SELECT_TOKEN=2]="SELECT_TOKEN",n[n.CONFIGURE_LOCK=3]="CONFIGURE_LOCK",n[n.DEPLOY_CONTRACT=4]="DEPLOY_CONTRACT",n[n.OUTCOME=5]="OUTCOME";let B={activeStep:o.SELECT_WALLET,walletDetails:{chainId:"",account:"",errorMsg:""},tokenInfo:{address:"",name:"",symbol:"",decimals:18,balance:D.O$.from(0),errorMsg:""},lockDetails:{date:"",totalAmount:"",fee:"",feeInUsd:""},approved:!1,success:!1,transactionHash:"",errorMsg:"",requesting:!1,showWaitingConfirmModal:!1,showWaitingScreen:!1,showOutcomeScreen:!1,showStepContainer:!0};function V(e,t){switch(t.type){case"handleNext":return{...e,activeStep:e.activeStep+1,errorMsg:""};case"goToStep":return{...e,activeStep:t.payload};case"handleLastStep":return{...e,activeStep:o.OUTCOME,errorMsg:t.payload.errorMsg};case"handleStartOver":return{...B};case"handleAccountDetailsChanged":return{...B,walletDetails:{...e.walletDetails,chainId:"",errorMsg:t.payload.errorMsg},errorMsg:t.payload.errorMsg,activeStep:t.payload.activeStep,showStepContainer:!0};case"setErrorMsg":return{...e,errorMsg:t.payload.errorMsg};case"setChainId":if(t.payload.chainId!==e.walletDetails.chainId)return{...e,walletDetails:{...e.walletDetails,chainId:t.payload.chainId},tokenInfo:B.tokenInfo,lockDetails:B.lockDetails,activeStep:e.activeStep+1,errorMsg:""};return{...e,walletDetails:{...e.walletDetails,chainId:t.payload.chainId},activeStep:e.activeStep+1,errorMsg:""};case"setAccount":if(e.walletDetails.account!==t.payload.account)return{...e,walletDetails:{...B.walletDetails,account:t.payload.account},lockDetails:B.lockDetails};return{...e};case"setTokenInfo":return{...e,tokenInfo:t.payload.tokenInfo,lockDetails:B.lockDetails,errorMsg:""};case"resetTokenInfo":return{...e,tokenInfo:{...B.tokenInfo,errorMsg:t.payload.errorMsg},errorMsg:t.payload.errorMsg};case"setLockDetails":return{...e,lockDetails:{...e.lockDetails,fee:t.payload.fee,feeInUsd:t.payload.feeInUsd,totalAmount:t.payload.totalAmount,date:t.payload.date,referralAddress:t.payload.referralAddress,referralSupported:t.payload.referralSupported},activeStep:e.activeStep+1};case"resetLockDetails":return{...e,lockDetails:B.lockDetails,errorMsg:""};case"setApproved":return{...e,approved:!0};case"setRequestingLock":return{...e,showWaitingConfirmModal:!0,requesting:!0};case"setVisibleModalWaitingConfirm":return{...e,showWaitingConfirmModal:t.payload};case"setTransactionHash":return{...e,transactionHash:t.payload.transactionHash,showWaitingConfirmModal:!1,showWaitingScreen:!0,showOutcomeScreen:!1,showStepContainer:!1};case"setOutcome":return{...e,success:t.payload.success,errorMsg:t.payload.errorMsg,activeStep:e.activeStep!==o.OUTCOME?e.activeStep+1:e.activeStep,showWaitingConfirmModal:!1,showWaitingScreen:!1,showOutcomeScreen:!0,showStepContainer:!1,requesting:!1};case"setShowStepContainer":return{...e,showWaitingConfirmModal:!1,showWaitingScreen:!1,showOutcomeScreen:!1,showStepContainer:t.payload.showStepContainer};default:throw Error()}}function z(e){var t,a;let{dispatch:s,state:n,step:o,index:h,event:m="db_team_locks_address_entered"}=e,[f,x]=(0,d.useState)(!1),[w,k]=(0,d.useState)("-"),[y,S]=(0,d.useState)(""),{address:v}=(0,u.mA)(),{data:A}=(0,u.mx)();async function T(e){S(e);try{if(x(!0),C.isAddress(e)){let t=await (0,c.Fp)(e,A),a=await (0,c.Q3)(e,A),n=await (0,c.db)(e,v,A),o=await (0,c.Yc)(e,A);k((0,c.xG)(Number(I.formatUnits(n,a)))),t&&a?s({type:r.SET_TOKEN_INFO,payload:{tokenInfo:{address:e,name:o,symbol:t,decimals:a,balance:n,errorMsg:""}}}):s({type:r.RESET_TOKEN_INFO,payload:{errorMsg:"Token address is invalid."}})}else s({type:r.RESET_TOKEN_INFO,payload:{errorMsg:"Token address is invalid."}})}catch(e){console.error(e),s({type:r.RESET_TOKEN_INFO,payload:{errorMsg:"Token address is invalid."}}),p.Tb(e)}finally{x(!1)}}return(0,d.useEffect)(()=>{n.walletDetails.errorMsg&&S("")},[n.walletDetails.errorMsg]),(0,i.jsx)("div",{children:n.activeStep===h?(0,i.jsxs)(l.$m,{step:o,errorMsg:n.errorMsg,children:[(0,i.jsx)("p",{className:"my-1 text-xs font-medium text-neutral-600",children:"Token address"}),(0,i.jsx)(g.II,{error:!!n.tokenInfo.errorMsg,className:"w-full text-sm sm:w-96",type:"text",name:"search",placeholder:"Enter address...",onChange:e=>T(e.target.value),value:y,"data-testid":"token-address-input"}),n.tokenInfo.errorMsg?(0,i.jsx)("p",{className:"my-1 text-xs font-medium text-red-600",children:"Invalid address. Please insert a valid token address."}):(0,i.jsx)("p",{className:"my-1 break-words text-xs text-neutral-600",children:"e.g. 0xCC4304A31d09258b0029eA7FE63d032f52e44EFe"}),n.tokenInfo.symbol&&(0,i.jsxs)("div",{className:"my-4 w-full divide-y divide-neutral-200 rounded-md sm:w-96",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,i.jsx)("span",{className:"text-base text-[#222222]/60",children:"Symbol"}),(0,i.jsxs)("div",{className:"inline-flex items-center gap-x-1.5 text-sm font-medium",children:[(0,i.jsx)(g.Oi,{alt:"logo",src:(0,Y.XP)(n.tokenInfo.address),className:"h-5 w-5 object-contain",chainId:n.walletDetails.chainId}),(0,i.jsx)("span",{className:"text-base font-medium text-[#222222]",children:n.tokenInfo.symbol})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,i.jsx)("span",{className:"text-base text-[#222222]/60",children:"Balance"}),(0,i.jsx)("span",{className:"text-base font-medium text-[#222222]",children:w})]})]}),(0,i.jsx)(g.zx,{className:"mt-2 w-full sm:w-auto",disabled:!!n.tokenInfo.errorMsg||!n.tokenInfo.address||f,isLoading:f,onClick:()=>{window.dataLayer.push({event:m}),s({type:r.HANDLE_NEXT})},"data-testid":"continue-button",children:"Continue"})]}):(0,i.jsx)(l.sP,{activeStep:n.activeStep,index:h,step:o,goToStep:()=>s({type:r.GO_TO_STEP,payload:h}),children:(0,i.jsx)("div",{children:n.tokenInfo.symbol&&(0,i.jsxs)("div",{className:"flex items-center gap-x-1.5",children:[(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)(g.Oi,{alt:"logo",src:(0,Y.XP)(null===(t=n.tokenInfo)||void 0===t?void 0:t.address),className:"h-4 w-4 object-contain sm:h-5 sm:w-5",chainId:n.walletDetails.chainId})}),(0,i.jsx)("p",{className:"text-sm sm:text-base",children:null===(a=n.tokenInfo)||void 0===a?void 0:a.symbol})]})})})})}var J=a(65186),Z=[{title:"Connect wallet",description:"Make sure to connect only the wallet that contains the tokens you would like to vest. You won't be able to change this wallet after deploying the vesting contract.",renderLogo:()=>(0,i.jsx)(J.DLc,{className:"h-4 w-4"})},{title:"Select blockchain",description:"Choose the blockchain that your token is built on.",renderLogo:()=>(0,i.jsx)(J.pNz,{className:"h-4 w-4"})},{title:"Enter token address",description:"Enter the token address you would like to lock for.",renderLogo:()=>(0,i.jsx)(J.$l_,{className:"h-4 w-4"})},{title:"Add lock details",description:"Set the amount and time period you would like to lock your tokens for.",renderLogo:()=>(0,i.jsx)(J.kVv,{className:"h-4 w-4"})},{title:"Create contract",description:"We need your authorisation before using the token. This only needs to be done once.",renderLogo:()=>(0,i.jsx)(J.D6S,{className:"h-4 w-4"})}];function X(){let{address:e}=(0,u.mA)(),{chain:t}=(0,u.LN)(),[a,s]=(0,d.useReducer)(V,B),[n,p]=(0,d.useState)(!1),[f,x]=(0,d.useState)(!0);return(0,d.useEffect)(()=>{a.walletDetails.account&&a.activeStep>o.SELECT_WALLET&&e!==a.walletDetails.account&&s({type:r.HANDLE_ACCOUNT_DETAILS_CHANGED,payload:{errorMsg:"Wallet changed. Please select the correct wallet and continue.",activeStep:o.SELECT_WALLET}})},[e,a.walletDetails.account,s,a.activeStep]),(0,d.useEffect)(()=>{a.activeStep>o.SELECT_CHAIN&&(0,c.i6)(null==t?void 0:t.id)!==a.walletDetails.chainId&&s({type:r.HANDLE_ACCOUNT_DETAILS_CHANGED,payload:{errorMsg:"Blockchain changed. Please select the correct blockchain and continue.",activeStep:o.SELECT_CHAIN}})},[t,a.walletDetails.chainId,s,a.activeStep]),(0,d.useEffect)(()=>{(!a.walletDetails.account&&e||a.activeStep===o.SELECT_WALLET)&&s({type:r.SET_ACCOUNT,payload:{account:e}})},[e,a.walletDetails.account,a.activeStep,s]),(0,i.jsxs)("div",{children:[a.showWaitingScreen&&(0,i.jsx)(l.QD,{logoHeader:m,subText:"Token: ".concat(a.tokenInfo.symbol),faqData:K}),a.showOutcomeScreen&&(0,i.jsx)(l.sv,{href:"/",claimHref:"/team-token-locks",success:a.success,errorMsg:a.errorMsg,logoHeader:m,chainId:a.walletDetails.chainId,txHash:a.transactionHash,tokenDetailsPageRef:"https://www.team.finance/view-coin/".concat(a.tokenInfo.address,"?name=").concat(a.tokenInfo.name,"&symbol=").concat(a.tokenInfo.symbol,"&chainid=").concat(a.walletDetails.chainId),title:"Your project token lock was deployed successfully!",subTitle:"Let your investors and community know that their tokens are in safe hands. We've prepared a media kit for you to tell them the good news on your website and social media!",buttonText:"Visit token locks page",eventSuccess:"db_team_locks_visit_page",eventsCertification:"db_team_locks",secureText:"Lock",startOver:()=>{window.dataLayer.push({event:"db_team_locks_try_again"}),s({type:r.HANDLE_START_OVER,payload:null})}}),!a.showOutcomeScreen&&!a.showWaitingScreen&&(0,i.jsxs)(l.o3,{href:"/",logoHeader:h,collapsed:n,setCollapsed:p,collapsedMobile:f,setCollapsedMobile:x,title:"Create team token lock",faqData:K,children:[(0,i.jsx)(l.Rg,{state:a,stepDescriptions:Z,goToStep:e=>{s({type:r.GO_TO_STEP,payload:e})}}),(0,i.jsxs)("div",{className:"mt-4 flex flex-col gap-1",children:[(0,i.jsx)(l.Rk,{step:Z[o.SELECT_WALLET],index:o.SELECT_WALLET,activeStep:a.activeStep,errorMsg:a.errorMsg,event:"db_team_locks_wallet_connected",goToStep:()=>s({type:r.GO_TO_STEP,payload:o.SELECT_WALLET}),handleNext:()=>s({type:r.HANDLE_NEXT,payload:null})}),(0,i.jsx)(l.jP,{step:Z[o.SELECT_CHAIN],index:o.SELECT_CHAIN,collapsed:n,activeStep:a.activeStep,errorMsg:a.errorMsg,chainId:a.walletDetails.chainId,setChainId:e=>{s({type:r.SET_CHAIN_ID,payload:{chainId:e}}),window.dataLayer.push({event:"db_team_locks_chain_selected",chain:(0,c.C7)(e)})},goToStep:()=>s({type:r.GO_TO_STEP,payload:o.SELECT_CHAIN})}),(0,i.jsx)(z,{dispatch:s,state:a,step:Z[o.SELECT_TOKEN],index:o.SELECT_TOKEN,event:"db_team_locks_address_entered"}),(0,i.jsx)(L,{dispatch:s,state:a,step:Z[o.CONFIGURE_LOCK],index:o.CONFIGURE_LOCK,event:"db_team_locks_details_added"}),(0,i.jsx)(q,{dispatch:s,state:a,step:Z[o.DEPLOY_CONTRACT],index:o.DEPLOY_CONTRACT,approveEvent:"db_team_locks_gave_permission",lockEventFailure:"db_team_locks_fail",lockEventSuccess:"db_team_locks_success"})]})]})]})}var Q=a(97729),ee=a.n(Q),et=a(55351);function ea(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(et.PB,{title:"Team Finance App - Create Team Token Locks",titleTemplate:"%s"}),(0,i.jsx)(ee(),{children:(0,i.jsx)("link",{rel:"canonical",href:"https://app.team.finance/lockups/projectToken"})}),(0,i.jsx)(X,{})]})}}},function(e){e.O(0,[424,131,713,195,149,642,286,887,565,1,38,774,888,179],function(){return e(e.s=33323)}),_N_E=e.O()}]);